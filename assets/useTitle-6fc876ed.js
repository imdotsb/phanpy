import{L as _a,N as ka,O as wa,P as xa,Q as jn,i as Ea,_ as Q,p as le,h as W,o as e,x as Ct,u as Ue,U as La,m as Vn,f as Ta,d as Ee,V as Aa,S as Ca,M as Un,k as H,W as it,X as Fa,Y as Ia,Z as $a,$ as Sa,E as Da,a0 as Ra,a1 as Hn,B as Pa,a2 as Ma,a3 as Oa,a4 as za,a5 as Na,a6 as Ba,a7 as ja,a8 as Va,a9 as Ua,aa as Ha,ab as Ka,g as qa,T as Kn,ac as Wa,F as Re,y as Qt,ad as _n,t as Ga,a as ct,D as Ja,e as Ut,J as qn,C as Ya,ae as Za,I as Xa,af as Qa,ag as eo,ah as kn,ai as to,c as no,w as wn}from"./vendor-9f4c0ba7.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function a(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(r){if(r.ep)return;r.ep=!0;const s=a(r);fetch(r.href,s)}})();const ao="modulepreload",oo=function(n,t){return new URL(n,t).href},xn={},w=function(t,a,o){if(!a||a.length===0)return t();const r=document.getElementsByTagName("link");return Promise.all(a.map(s=>{if(s=oo(s,o),s in xn)return;xn[s]=!0;const c=s.endsWith(".css"),l=c?'[rel="stylesheet"]':"";if(!!o)for(let d=r.length-1;d>=0;d--){const m=r[d];if(m.href===s&&(!c||m.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${l}`))return;const p=document.createElement("link");if(p.rel=c?"stylesheet":ao,c||(p.as="script",p.crossOrigin=""),p.href=s,document.head.appendChild(p),c)return new Promise((d,m)=>{p.addEventListener("load",d),p.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>t()).catch(s=>{const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=s,window.dispatchEvent(c),!c.defaultPrevented)throw s})};function Wn(n){const t=M.local.getJSON("accounts")||[];return t.find(a=>a.info.id===n)||t[0]}function io(n){return(M.local.getJSON("accounts")||[]).find(a=>a.accessToken===n)}function Ft(){window.__IGNORE_GET_ACCOUNT_ERROR__;const n=M.session.get("currentAccount");return Wn(n)}function kt(){const n=Ft(),{instanceURL:t,info:{id:a}}=n;return`${a}@${t}`}function ro(n){const t=M.local.getJSON("accounts")||[],a=t.find(o=>o.info.id===n.info.id);a?(a.info=n.info,a.instanceURL=n.instanceURL,a.accessToken=n.accessToken,a.vapidKey=n.vapidKey):t.push(n),M.local.setJSON("accounts",t),M.session.set("currentAccount",n.info.id)}function Ti(n){const t=M.local.getJSON("accounts")||[],a=t.find(o=>o.info.id===n.id);a&&(a.info.displayName!==n.displayName||a.info.avatar!==n.avatar||a.info.avatar_static!==n.avatar_static)&&(a.info={...a.info,...n},M.local.setJSON("accounts",t))}let Ht=null;function Gn(){if(Ht)return Ht;try{const n=Ft(),t=M.local.getJSON("instances"),a=n.instanceURL.toLowerCase();return Ht=t[a]}catch(n){return alert(`Failed to load instance configuration. Please try again.

${n}`),M.local.del("instances"),location.reload(),{}}}function so(n){const{configuration:t,maxMediaAttachments:a,maxTootChars:o,pleroma:r,pollLimits:s}=n,c=(t==null?void 0:t.statuses)||{};a&&(c.maxMediaAttachments??(c.maxMediaAttachments=a)),o&&(c.maxCharacters??(c.maxCharacters=o));const l=(t==null?void 0:t.polls)||{};return s&&(l.maxCharactersPerOption??(l.maxCharactersPerOption=s.maxOptionChars),l.maxExpiration??(l.maxExpiration=s.maxExpiration),l.maxOptions??(l.maxOptions=s.maxOptions),l.minExpiration??(l.minExpiration=s.minExpiration)),{...t,statuses:c,polls:l}}function co(){const n=Gn();return so(n)}const Oe={get:n=>{try{return localStorage.getItem(n)}catch{return null}},getJSON:n=>{try{return JSON.parse(Oe.get(n))}catch{return null}},set:(n,t)=>{try{return localStorage.setItem(n,t)}catch{return null}},setJSON:(n,t)=>{try{return Oe.set(n,JSON.stringify(t))}catch{return null}},del:n=>{try{return localStorage.removeItem(n)}catch{return null}}},en={get:n=>{try{return sessionStorage.getItem(n)}catch{return null}},getJSON:n=>{try{return JSON.parse(en.get(n))}catch{return null}},set:(n,t)=>{try{return sessionStorage.setItem(n,t)}catch{return null}},setJSON:(n,t)=>{try{return en.set(n,JSON.stringify(t))}catch{return null}},del:n=>{try{return sessionStorage.removeItem(n)}catch{return null}}},lo={get:n=>{try{return Oe.getJSON(n)[kt()]}catch{return null}},set:(n,t)=>{try{const a=Oe.getJSON(n)||{};return a[kt()]=t,Oe.setJSON(n,a)}catch{return null}},del:n=>{try{const t=Oe.getJSON(n)||{};return delete t[kt()],Oe.setJSON(n,t)}catch{return null}}},M={local:Oe,session:en,account:lo},wt="mastodon.social",Et={},Fe={};window.__ACCOUNT_APIS__=Fe;let $e;function Ke({instance:n,accessToken:t}){/^https?:\/\//.test(n)&&(n=n.replace(/^https?:\/\//,"").replace(/\/+$/,"").toLowerCase());const a=n?`https://${n}`:`https://${wt}`,r={masto:_a({url:a,accessToken:t,timeout:3e4}),instance:n,accessToken:t};return Et[n]=r,Fe[n]||(Fe[n]={}),t&&(Fe[n][t]=r),r}async function Ai(n,t){const{masto:a,accessToken:o}=n;let r;try{r=await a.v2.instance.fetch()}catch{}if(!r)try{r=await a.v1.instance.fetch()}catch{}if(!r)return;const{uri:s,urls:{streamingApi:c}={},domain:l,configuration:{urls:{streaming:f}={}}={}}=r,p=M.local.getJSON("instances")||{};if((s||l)&&(p[(l||s).replace(/^https?:\/\//,"").replace(/\/+$/,"").toLowerCase()]=r),t&&(p[t.toLowerCase()]=r),M.local.setJSON("instances",p),"WebSocket"in window&&(c||f)){const m=ka({streamingApiUrl:f||c,accessToken:o,implementation:WebSocket});n.streaming=m}}async function Ci(n,t,a,o){const{masto:r}=n,s=await r.v1.accounts.verifyCredentials();M.session.set("currentAccount",s.id),ro({info:s,instanceURL:t.toLowerCase(),accessToken:a,vapidKey:o})}async function Fi(n){try{const{masto:t}=n,a=await t.v1.preferences.fetch();M.account.set("preferences",a)}catch{}}function Ne({instance:n,accessToken:t,accountID:a,account:o}={}){var f,p,d;if(n&&(n=n.toLowerCase().trim()),n&&t){const m=((f=Fe[n])==null?void 0:f[t])||Ke({instance:n,accessToken:t}),{masto:u,streaming:v}=m;return{masto:u,streaming:v,client:m,authenticated:!0,instance:n}}if(t)for(const m in Fe)if(Fe[m][t]){const u=Fe[m][t],{masto:v,streaming:y}=u;return{masto:v,streaming:y,client:u,authenticated:!0,instance:m}}else{const u=io(t);if(u){const v=u.accessToken,y=u.instanceURL.toLowerCase().trim(),g=Ke({instance:y,accessToken:v}),{masto:b,streaming:x}=g;return{masto:b,streaming:x,client:g,authenticated:!0,instance:y}}else throw new Error("Access token not found")}if(o||a)if(o=o||Wn(a),o){const m=o.accessToken,u=o.instanceURL.toLowerCase().trim(),v=((p=Fe[u])==null?void 0:p[m])||Ke({instance:u,accessToken:m}),{masto:y,streaming:g}=v;return{masto:y,streaming:g,client:v,authenticated:!0,instance:u}}else throw new Error(`Account ${a} not found`);if(n){const m=Et[n]||Ke({instance:n}),{masto:u,streaming:v,accessToken:y}=m;return{masto:u,streaming:v,client:m,authenticated:!!y,instance:n}}if($e)return{masto:$e.masto,streaming:$e.streaming,client:$e,authenticated:!0,instance:$e.instance};const r=Ft();if(r){const{accessToken:m,instanceURL:u}=r;return $e=((d=Fe[u])==null?void 0:d[m])||Ke({instance:u,accessToken:m}),{masto:$e.masto,streaming:$e.streaming,client:$e,authenticated:!0,instance:u}}const s=Et[wt]||Ke({instance:wt}),{masto:c,streaming:l}=s;return{masto:c,streaming:l,client:s,authenticated:!1,instance:wt}}window.__API__={currentAccountApi:$e,apis:Et,accountApis:Fe};function Ze(n,t={}){return wa(n,{...t,maxSize:100})}function It(n,t={}){return Ze(n,{isPromise:!0,...t})}const T=xa({appVersion:{},prevLocation:null,currentLocation:null,statuses:{},statusThreadNumber:{},home:[],homeNew:[],homeLast:null,homeLastFetchTime:null,notifications:[],notificationsLast:null,notificationsNew:[],notificationsShowNew:!1,notificationsLastFetchTime:null,accounts:{},reloadStatusPage:0,reloadGenericAccounts:{id:null,counter:0},spoilers:{},scrollPositions:{},unfurledLinks:{},statusQuotes:{},accounts:{},routeNotification:null,showCompose:!1,showSettings:!1,showAccount:!1,showAccounts:!1,showDrafts:!1,showMediaModal:!1,showShortcutsSettings:!1,showKeyboardShortcutsHelp:!1,showGenericAccounts:!1,showMediaAlt:!1,shortcuts:[],settings:{autoRefresh:!1,shortcutsViewMode:null,shortcutsColumnsMode:!1,boostsCarousel:!0,contentTranslation:!0,contentTranslationTargetLanguage:null,contentTranslationHideLanguages:[],contentTranslationAutoInline:!1,cloakMode:!1}});function Ii(){T.notificationsLast=M.account.get("notificationsLast")||null,T.shortcuts=M.account.get("shortcuts")??[],T.settings.autoRefresh=M.account.get("settings-autoRefresh")??!1,T.settings.shortcutsViewMode=M.account.get("settings-shortcutsViewMode")??null,T.settings.shortcutsColumnsMode=M.account.get("settings-shortcutsColumnsMode")??!1,T.settings.boostsCarousel=M.account.get("settings-boostsCarousel")??!0,T.settings.contentTranslation=M.account.get("settings-contentTranslation")??!0,T.settings.contentTranslationTargetLanguage=M.account.get("settings-contentTranslationTargetLanguage")||null,T.settings.contentTranslationHideLanguages=M.account.get("settings-contentTranslationHideLanguages")||[],T.settings.contentTranslationAutoInline=M.account.get("settings-contentTranslationAutoInline")??!1,T.settings.cloakMode=M.account.get("settings-cloakMode")??!1}jn(T,"notificationsLast",n=>{M.account.set("notificationsLast",T.notificationsLast)});Ea(T,n=>{for(const[t,a,o,r]of n)a.join(".")==="settings.autoRefresh"&&M.account.set("settings-autoRefresh",!!o),a.join(".")==="settings.boostsCarousel"&&M.account.set("settings-boostsCarousel",!!o),a.join(".")==="settings.shortcutsColumnsMode"&&M.account.set("settings-shortcutsColumnsMode",!!o),a.join(".")==="settings.shortcutsViewMode"&&M.account.set("settings-shortcutsViewMode",o),a.join(".")==="settings.contentTranslation"&&M.account.set("settings-contentTranslation",!!o),a.join(".")==="settings.contentTranslationAutoInline"&&M.account.set("settings-contentTranslationAutoInline",!!o),a.join(".")==="settings.contentTranslationTargetLanguage"&&M.account.set("settings-contentTranslationTargetLanguage",o),/^settings\.contentTranslationHideLanguages/i.test(a.join("."))&&M.account.set("settings-contentTranslationHideLanguages",T.settings.contentTranslationHideLanguages),(a==null?void 0:a[0])==="shortcuts"&&M.account.set("shortcuts",T.shortcuts),a.join(".")==="settings.cloakMode"&&M.account.set("settings-cloakMode",!!o)});function Be(n,t){if(n)return t?`${t}/${n}`:n}function Jn(n,t){if(t){const a=Be(n,t);return T.statuses[a]}return T.statuses[n]}function Te(n,t,a){typeof t=="object"&&(a=t,t=null);const{override:o,skipThreading:r}=Object.assign({override:!0,skipThreading:!1},a);if(!n)return;const s=Jn(n.id,t);if(!o&&s)return;const c=Be(n.id,t);if(s!=null&&s._pinned&&(n._pinned=s._pinned),s!=null&&s._filtered&&(n._filtered=s._filtered),T.statuses[c]=n,n.reblog){const l=Be(n.reblog.id,t);T.statuses[l]=n.reblog}r||requestAnimationFrame(()=>{En(n,t),n.reblog&&En(n.reblog,t)})}function En(n,t){const{masto:a,instance:o}=Ne({instance:t});let r=0;async function s(c,l=0){const{inReplyToId:f,inReplyToAccountId:p}=c;if(!f||p!==c.account.id)return[c];if(f&&p!==c.account.id)throw"Not a thread";const d=Be(f,o);let m=T.statuses[d];if(!m){if(r++>3)throw"Too many fetches for thread";await new Promise(u=>setTimeout(u,500*r)),m=await uo(f,a),Te(m,o,{skipThreading:!0})}return[...await s(m,++l),c]}return s(n).then(c=>{c.length>1&&c.forEach((l,f)=>{const p=Be(l.id,o);T.statusThreadNumber[p]=f+1})}).catch(c=>{})}const uo=It((n,t)=>t.v1.statuses.$select(n).fetch());function mo(n,t,a,o){const r=Q(n);le(()=>{r.current=n},[n,a]),le(()=>{!o||t===null||t===!1||r.current()},[o]),le(()=>{if(t===null||t===!1)return;const c=setInterval(()=>r.current(),t);return()=>clearInterval(c)},[t])}function ho(n){const t=new URL("/compose/",window.location),{width:a,height:o}=window.screen,r=Math.max(0,(a-600)/2),s=Math.max(0,(o-450)/2),c=Math.min(a,600),l=Math.min(o,450),f=(n==null?void 0:n.uid)||Math.random(),p=window.open(t,"compose"+f,`width=${c},height=${l},left=${r},top=${s}`);return p&&(p.__COMPOSE__=n),p}const po={s:12,m:16,l:20,xl:24,xxl:32},fo={x:()=>w(()=>import("./icons/close-line-1e607fd7.js"),[],import.meta.url),heart:()=>w(()=>import("./icons/heart-line-58c847a5.js"),[],import.meta.url),bookmark:()=>w(()=>import("./icons/bookmark-line-6b313284.js"),[],import.meta.url),"check-circle":()=>w(()=>import("./icons/check-circle-line-482cc23b.js"),[],import.meta.url),"x-circle":()=>w(()=>import("./icons/close-circle-line-f70541d9.js"),[],import.meta.url),transfer:()=>w(()=>import("./icons/transfer-4-line-b7cbb98b.js"),[],import.meta.url),rocket:()=>w(()=>import("./icons/rocket-line-101de3ec.js"),[],import.meta.url),"arrow-left":()=>w(()=>import("./icons/arrow-left-line-0feb3aa8.js"),[],import.meta.url),"arrow-right":()=>w(()=>import("./icons/arrow-right-line-694dabc1.js"),[],import.meta.url),"arrow-up":()=>w(()=>import("./icons/arrow-up-line-95e379ea.js"),[],import.meta.url),"arrow-down":()=>w(()=>import("./icons/arrow-down-line-bb178ce2.js"),[],import.meta.url),earth:()=>w(()=>import("./icons/earth-line-5c4df1e5.js"),[],import.meta.url),lock:()=>w(()=>import("./icons/lock-line-d71022d2.js"),[],import.meta.url),unlock:()=>w(()=>import("./icons/unlock-line-cacd9f81.js"),[],import.meta.url),"eye-close":()=>w(()=>import("./icons/eye-close-line-da2db2a8.js"),[],import.meta.url),"eye-open":()=>w(()=>import("./icons/eye-2-line-64371d08.js"),[],import.meta.url),message:()=>w(()=>import("./icons/mail-line-655a57c1.js"),[],import.meta.url),comment:()=>w(()=>import("./icons/chat-3-line-51ad6e95.js"),[],import.meta.url),home:()=>w(()=>import("./icons/home-3-line-8018e019.js"),[],import.meta.url),notification:()=>w(()=>import("./icons/notification-line-6483301e.js"),[],import.meta.url),follow:()=>w(()=>import("./icons/user-follow-line-d4adf471.js"),[],import.meta.url),"follow-add":()=>w(()=>import("./icons/user-add-line-b53e9c05.js"),[],import.meta.url),poll:[()=>w(()=>import("./icons/chart-bar-line-ca6f21fb.js"),[],import.meta.url),"90deg"],pencil:()=>w(()=>import("./icons/pencil-line-7c3f3024.js"),[],import.meta.url),quill:()=>w(()=>import("./icons/quill-pen-line-992093b1.js"),[],import.meta.url),at:()=>w(()=>import("./icons/at-line-b5f1b18e.js"),[],import.meta.url),attachment:()=>w(()=>import("./icons/attachment-line-ebd7ec47.js"),[],import.meta.url),upload:()=>w(()=>import("./icons/upload-3-line-e7582c69.js"),[],import.meta.url),gear:()=>w(()=>import("./icons/settings-3-line-c7b6c1ed.js"),[],import.meta.url),more:()=>w(()=>import("./icons/more-3-line-9beec198.js"),[],import.meta.url),external:()=>w(()=>import("./icons/external-link-line-e805d30b.js"),[],import.meta.url),popout:()=>w(()=>import("./icons/external-link-line-e805d30b.js"),[],import.meta.url),popin:[()=>w(()=>import("./icons/external-link-line-e805d30b.js"),[],import.meta.url),"180deg"],plus:()=>w(()=>import("./icons/add-circle-line-0f9ede61.js"),[],import.meta.url),"chevron-left":()=>w(()=>import("./icons/left-line-8c6d4730.js"),[],import.meta.url),"chevron-right":()=>w(()=>import("./icons/right-line-a8ed19bd.js"),[],import.meta.url),"chevron-down":()=>w(()=>import("./icons/down-line-22725d11.js"),[],import.meta.url),reply:[()=>w(()=>import("./icons/share-forward-line-0e1cf661.js"),[],import.meta.url),"180deg","horizontal"],thread:()=>w(()=>import("./icons/route-line-edf25882.js"),[],import.meta.url),group:()=>w(()=>import("./icons/group-line-7fc1ae6f.js"),[],import.meta.url),bot:()=>w(()=>import("./icons/android-2-line-9258188e.js"),[],import.meta.url),menu:()=>w(()=>import("./icons/rows-4-line-b232add2.js"),[],import.meta.url),list:()=>w(()=>import("./icons/list-check-line-d954d344.js"),[],import.meta.url),search:()=>w(()=>import("./icons/search-2-line-91d20a16.js"),[],import.meta.url),hashtag:()=>w(()=>import("./icons/hashtag-line-173f0e0d.js"),[],import.meta.url),info:()=>w(()=>import("./icons/information-line-f740a4d0.js"),[],import.meta.url),shortcut:()=>w(()=>import("./icons/lightning-line-13c40c00.js"),[],import.meta.url),user:()=>w(()=>import("./icons/user-4-line-f6272bc4.js"),[],import.meta.url),following:()=>w(()=>import("./icons/walk-line-f9ac997b.js"),[],import.meta.url),pin:()=>w(()=>import("./icons/pin-line-1614dbce.js"),[],import.meta.url),bus:()=>w(()=>import("./icons/bus-2-line-287f972b.js"),[],import.meta.url),link:()=>w(()=>import("./icons/link-2-line-e03d0a4a.js"),[],import.meta.url),history:()=>w(()=>import("./icons/history-line-fe495dd5.js"),[],import.meta.url),share:()=>w(()=>import("./icons/share-2-line-24701383.js"),[],import.meta.url),sparkles:()=>w(()=>import("./icons/sparkles-line-c135b7ce.js"),[],import.meta.url),exit:()=>w(()=>import("./icons/exit-line-ec340eaf.js"),[],import.meta.url),translate:()=>w(()=>import("./icons/translate-line-2df19669.js"),[],import.meta.url),play:()=>w(()=>import("./icons/play-fill-36970130.js"),[],import.meta.url),trash:()=>w(()=>import("./icons/delete-2-line-682baf55.js"),[],import.meta.url),mute:()=>w(()=>import("./icons/volume-mute-line-9ab0102c.js"),[],import.meta.url),unmute:()=>w(()=>import("./icons/volume-line-9e549d94.js"),[],import.meta.url),block:()=>w(()=>import("./icons/forbid-circle-line-077295c5.js"),[],import.meta.url),unblock:[()=>w(()=>import("./icons/forbid-circle-line-077295c5.js"),[],import.meta.url),"180deg"],flag:()=>w(()=>import("./icons/flag-4-line-a416d7ea.js"),[],import.meta.url),time:()=>w(()=>import("./icons/time-line-78409f27.js"),[],import.meta.url),refresh:()=>w(()=>import("./icons/refresh-2-line-c573bc2e.js"),[],import.meta.url),emoji2:()=>w(()=>import("./icons/emoji-2-line-b853d04a.js"),[],import.meta.url),filter:()=>w(()=>import("./icons/filter-2-line-5c65a22f.js"),[],import.meta.url),chart:()=>w(()=>import("./icons/chart-line-line-e9099084.js"),[],import.meta.url),react:()=>w(()=>import("./icons/react-line-1e209827.js"),[],import.meta.url),layout4:()=>w(()=>import("./icons/layout-4-line-aff02a7f.js"),[],import.meta.url),layout5:()=>w(()=>import("./icons/layout-5-line-29b47e62.js"),[],import.meta.url),announce:()=>w(()=>import("./icons/announcement-line-71e251ef.js"),[],import.meta.url),alert:()=>w(()=>import("./icons/alert-line-d292623f.js"),[],import.meta.url),round:()=>w(()=>import("./icons/round-fill-d5665283.js"),[],import.meta.url),"arrow-up-circle":()=>w(()=>import("./icons/arrow-up-circle-line-92cd8597.js"),[],import.meta.url),"arrow-down-circle":()=>w(()=>import("./icons/arrow-down-circle-line-fb990a65.js"),[],import.meta.url),clipboard:()=>w(()=>import("./icons/clipboard-line-69c6b835.js"),[],import.meta.url),"account-edit":()=>w(()=>import("./icons/user-edit-line-8f150bdb.js"),[],import.meta.url),"account-warning":()=>w(()=>import("./icons/user-warning-line-a67c49de.js"),[],import.meta.url),keyboard:()=>w(()=>import("./icons/keyboard-line-ad6bd154.js"),[],import.meta.url),cloud:()=>w(()=>import("./icons/cloud-line-093593ee.js"),[],import.meta.url),month:()=>w(()=>import("./icons/calendar-month-line-d095d094.js"),[],import.meta.url)};function go({icon:n,size:t="m",alt:a,title:o,class:r="",style:s={}}){if(!n)return null;const c=po[t];let l=fo[n],f,p;Array.isArray(l)&&([l,f,p]=l);const[d,m]=W(null);return le(async()=>{const u=await l();m(u.default)},[l]),e("span",{class:`icon ${r}`,title:o||a,style:{width:`${c}px`,height:`${c}px`,...s},children:d&&e("svg",{width:c,height:c,viewBox:`0 0 ${d.width} ${d.height}`,dangerouslySetInnerHTML:{__html:d.body},style:{transform:`${f?`rotate(${f})`:""} ${p?"scaleX(-1)":""}`}})})}const E=Ct(go);const vo=document.getElementById("modal-container");function rt({children:n,onClose:t,onClick:a,class:o}){if(!n)return null;const r=Q();le(()=>{let l=setTimeout(()=>{var p;const f=(p=r.current)==null?void 0:p.querySelector('[tabindex="-1"]');f&&f.focus()},100);return()=>clearTimeout(l)},[]);const s=Ue("esc",()=>{setTimeout(()=>{t==null||t()},0)},{enabled:!!t,keydown:!1,keyup:!0},[t]),c=e("div",{ref:l=>{var f;r.current=l,s.current=((f=l==null?void 0:l.querySelector)==null?void 0:f.call(l,'[tabindex="-1"]'))||l},className:o,onClick:l=>{a==null||a(l),l.target===l.currentTarget&&(t==null||t(l))},tabIndex:"-1",onFocus:l=>{var f,p,d,m;l.target===l.currentTarget&&((m=(d=(p=(f=r.current)==null?void 0:f.querySelector)==null?void 0:p.call(f,'[tabindex="-1"]'))==null?void 0:d.focus)==null||m.call(d))},children:n});return La(c,vo)}function Je({abrupt:n,hidden:t,...a}){return e("span",{...a,class:`loader-container ${n?"abrupt":""} ${t?"hidden":""}`,children:e("span",{class:"loader"})})}const Ln={s:16,m:20,l:24,xl:32,xxl:50,xxxl:64},tt={},nt=window.OffscreenCanvas?new OffscreenCanvas(1,1):document.createElement("canvas"),Kt=nt.getContext("2d",{willReadFrequently:!0});function bo({url:n,size:t,alt:a="",squircle:o,...r}){t=Ln[t]||t||Ln.m;const s=Q(),c=/missing\.png$/.test(n);return e("span",{ref:s,class:`avatar ${o?"squircle":""} ${tt[n]?"has-alpha":""}`,style:{width:t,height:t},title:a,...r,children:!!n&&e("img",{src:n,width:t,height:t,alt:a,loading:"lazy",decoding:"async",crossOrigin:tt[n]===void 0&&!c?"anonymous":void 0,onError:l=>{l.target.crossOrigin&&(l.target.crossOrigin=null,l.target.src=n)},onLoad:l=>{if(s.current&&(s.current.dataset.loaded=!0),tt[n]===void 0&&!c)try{const{width:f,height:p}=l.target;nt.width!==f&&(nt.width=f),nt.height!==p&&(nt.height=p),Kt.drawImage(l.target,0,0);const d=Kt.getImageData(0,0,f,p),m=d.data.filter((u,v)=>v%4===3&&u<=128).length/(d.data.length/4)>.1;m&&s.current.classList.add("has-alpha"),tt[n]=m,Kt.clearRect(0,0,f,p)}catch{tt[n]=!1}}})})}const He=Ze(bo),lt=Vn((n,t)=>{let a;try{a=Ta()}catch{}let o=(location.hash||"").replace(/^#/,"").trim();o===""&&(o="/");const{to:r,...s}=n;if(o&&o!=="/"&&o.includes("?")){const l=new URL(o,location.origin);if(l.searchParams.size){const f=Array.from(l.searchParams.entries()).map(([p,d])=>`${p}=${encodeURIComponent(d)}`).join("&");o=l.pathname+"?"+f}}const c=o===r||decodeURIComponent(o)===r;return e("a",{ref:t,href:`#${r}`,...s,class:`${n.class||""} ${c?"is-active":""}`,onClick:l=>{var f,p,d;(p=(f=l.currentTarget)==null?void 0:f.parentNode)!=null&&p.closest("a")&&l.stopPropagation(),a&&(T.prevLocation=a),(d=n.onClick)==null||d.call(n,l)}})});function qt({subMenu:n=!1,confirm:t=!0,confirmLabel:a,menuItemClassName:o,menuFooter:r,...s}){const{children:c,onClick:l,...f}=s;if(!t)return n?e(Ee,{...s}):l?Aa(c,{onClick:l}):c;const p=n?Ca:Un,d=Q();return e(p,{instanceRef:d,openTrigger:"clickOnly",direction:"bottom",overflow:"auto",gap:-8,shift:8,menuClassName:"menu-emphasized",...f,menuButton:n?void 0:c,label:n?c:void 0,itemProps:{onPointerMove:m=>{var u,v;m.pointerType==="touch"&&((v=(u=d.current)==null?void 0:u.openMenu)==null||v.call(u))},onPointerLeave:m=>{var u,v;m.pointerType==="touch"&&((v=(u=d.current)==null?void 0:u.openMenu)==null||v.call(u))}},children:[e(Ee,{className:o,onClick:l,children:a}),r]})}function st({text:n,emojis:t}){if(!n)return"";if(!(t!=null&&t.length)||n.indexOf(":")===-1)return n;const a=new RegExp(`:(${t.map(r=>r.shortcode).join("|")}):`,"g");return n.split(a).map(r=>{const s=t.find(c=>c.shortcode===r);if(s){const{url:c,staticUrl:l}=s;return e("picture",{children:[e("source",{srcset:l,media:"(prefers-reduced-motion: reduce)"}),e("img",{src:c,alt:r,class:"shortcode-emoji emoji",width:"16",height:"16",loading:"lazy",decoding:"async"},r)]})}return r})}function yo({account:n,instance:t,showAvatar:a,showAcct:o,short:r,external:s,onClick:c}){var D;const{acct:l,avatar:f,avatarStatic:p,id:d,url:m,displayName:u,emojis:v,bot:y}=n;let{username:g}=n;const[b,x,A]=l.match(/([^@]+)(@.+)/i)||[,l],_=g.toLowerCase().trim(),L=(u||"").toLowerCase().trim(),S=L.replace(/(\:(\w|\+|\-)+\:)(?=|[\!\.\?]|$)/g,"").replace(/\s+/g,""),O=S.replace(/[^a-z0-9]/gi,"");return!r&&(_===L||_===S||_===O||((D=_.localeCompare)==null?void 0:D.call(_,S,"en",{sensitivity:"base"}))===0)&&(g=null),e("a",{class:`name-text ${o?"show-acct":""} ${r?"short":""}`,href:m,target:s?"_blank":null,title:`${u?`${u} `:""}@${l}`,onClick:G=>{if(!s){if(G.preventDefault(),G.stopPropagation(),c)return c(G);T.showAccount={account:n,instance:t}}},children:[a&&e(H,{children:[e(He,{url:p||f,squircle:y})," "]}),u&&!r?e(H,{children:[e("b",{children:e(st,{text:u,emojis:v})}),!o&&g&&e(H,{children:[" ",e("i",{children:["@",g]})]})]}):r?e("i",{children:g}):e("b",{children:g}),o&&e(H,{children:[e("br",{}),e("i",{children:["@",x,e("span",{class:"ib",children:A})]})]})]})}const at=Ct(yo);it.extend(Fa);it.extend(Ia);it.extend($a);const _o=new Intl.DateTimeFormat;function Lt({datetime:n,format:t}){if(!n)return null;const a=it(n),[o,r]=W("");return le(()=>{let s,c;const l=()=>{c=requestAnimationFrame(()=>{let f;if(t==="micro"){const p=it();p.diff(a,"day")<=1||p.year()===a.year()?f=a.twitter():f=_o.format(a.toDate())}else f=a.fromNow();r(f),s=setTimeout(l,3e4)})};return c=requestAnimationFrame(l),()=>{clearTimeout(s),cancelAnimationFrame(c)}},[a]),e("time",{datetime:a.toISOString(),title:a.format("LLLL"),children:o})}const ko=[{code:"af",name:"Afrikaans"},{code:"sq",name:"Albanian"},{code:"am",name:"Amharic"},{code:"ar",name:"Arabic"},{code:"hy",name:"Armenian"},{code:"as",name:"Assamese"},{code:"ay",name:"Aymara"},{code:"az",name:"Azerbaijani"},{code:"bm",name:"Bambara"},{code:"eu",name:"Basque"},{code:"be",name:"Belarusian"},{code:"bn",name:"Bengali"},{code:"bho",name:"Bhojpuri"},{code:"bs",name:"Bosnian"},{code:"bg",name:"Bulgarian"},{code:"ca",name:"Catalan"},{code:"ceb",name:"Cebuano"},{code:"ny",name:"Chichewa"},{code:"zh",name:"Chinese"},{code:"zh_HANT",name:"Chinese (Traditional)"},{code:"co",name:"Corsican"},{code:"hr",name:"Croatian"},{code:"cs",name:"Czech"},{code:"da",name:"Danish"},{code:"dv",name:"Dhivehi"},{code:"doi",name:"Dogri"},{code:"nl",name:"Dutch"},{code:"en",name:"English"},{code:"eo",name:"Esperanto"},{code:"et",name:"Estonian"},{code:"ee",name:"Ewe"},{code:"tl",name:"Filipino"},{code:"fi",name:"Finnish"},{code:"fr",name:"French"},{code:"fy",name:"Frisian"},{code:"gl",name:"Galician"},{code:"ka",name:"Georgian"},{code:"de",name:"German"},{code:"el",name:"Greek"},{code:"gn",name:"Guarani"},{code:"gu",name:"Gujarati"},{code:"ht",name:"Haitian Creole"},{code:"ha",name:"Hausa"},{code:"haw",name:"Hawaiian"},{code:"iw",name:"Hebrew"},{code:"hi",name:"Hindi"},{code:"hmn",name:"Hmong"},{code:"hu",name:"Hungarian"},{code:"is",name:"Icelandic"},{code:"ig",name:"Igbo"},{code:"ilo",name:"Ilocano"},{code:"id",name:"Indonesian"},{code:"ga",name:"Irish"},{code:"it",name:"Italian"},{code:"ja",name:"Japanese"},{code:"jw",name:"Javanese"},{code:"kn",name:"Kannada"},{code:"kk",name:"Kazakh"},{code:"km",name:"Khmer"},{code:"rw",name:"Kinyarwanda"},{code:"gom",name:"Konkani"},{code:"ko",name:"Korean"},{code:"kri",name:"Krio"},{code:"ku",name:"Kurdish (Kurmanji)"},{code:"ckb",name:"Kurdish (Sorani)"},{code:"ky",name:"Kyrgyz"},{code:"lo",name:"Lao"},{code:"la",name:"Latin"},{code:"lv",name:"Latvian"},{code:"ln",name:"Lingala"},{code:"lt",name:"Lithuanian"},{code:"lg",name:"Luganda"},{code:"lb",name:"Luxembourgish"},{code:"mk",name:"Macedonian"},{code:"mai",name:"Maithili"},{code:"mg",name:"Malagasy"},{code:"ms",name:"Malay"},{code:"ml",name:"Malayalam"},{code:"mt",name:"Maltese"},{code:"mi",name:"Maori"},{code:"mr",name:"Marathi"},{code:"mni-Mtei",name:"Meiteilon (Manipuri)"},{code:"lus",name:"Mizo"},{code:"mn",name:"Mongolian"},{code:"my",name:"Myanmar (Burmese)"},{code:"ne",name:"Nepali"},{code:"no",name:"Norwegian"},{code:"or",name:"Odia (Oriya)"},{code:"om",name:"Oromo"},{code:"ps",name:"Pashto"},{code:"fa",name:"Persian"},{code:"pl",name:"Polish"},{code:"pt",name:"Portuguese"},{code:"pa",name:"Punjabi"},{code:"qu",name:"Quechua"},{code:"ro",name:"Romanian"},{code:"ru",name:"Russian"},{code:"sm",name:"Samoan"},{code:"sa",name:"Sanskrit"},{code:"gd",name:"Scots Gaelic"},{code:"nso",name:"Sepedi"},{code:"sr",name:"Serbian"},{code:"st",name:"Sesotho"},{code:"sn",name:"Shona"},{code:"sd",name:"Sindhi"},{code:"si",name:"Sinhala"},{code:"sk",name:"Slovak"},{code:"sl",name:"Slovenian"},{code:"so",name:"Somali"},{code:"es",name:"Spanish"},{code:"su",name:"Sundanese"},{code:"sw",name:"Swahili"},{code:"sv",name:"Swedish"},{code:"tg",name:"Tajik"},{code:"ta",name:"Tamil"},{code:"tt",name:"Tatar"},{code:"te",name:"Telugu"},{code:"th",name:"Thai"},{code:"ti",name:"Tigrinya"},{code:"ts",name:"Tsonga"},{code:"tr",name:"Turkish"},{code:"tk",name:"Turkmen"},{code:"ak",name:"Twi"},{code:"uk",name:"Ukrainian"},{code:"ur",name:"Urdu"},{code:"ug",name:"Uyghur"},{code:"uz",name:"Uzbek"},{code:"vi",name:"Vietnamese"},{code:"cy",name:"Welsh"},{code:"xh",name:"Xhosa"},{code:"yi",name:"Yiddish"},{code:"yo",name:"Yoruba"},{code:"zu",name:"Zulu"}];function wo(...n){try{return Sa(...n)}catch{return n[2]||!1}}const Tt=Ze(wo),xo=[new Intl.DateTimeFormat().resolvedOptions().locale,...navigator.languages];function Yn(n=!1){if(n){const{contentTranslationTargetLanguage:t}=T.settings;if(t)return t}return Tt(xo,ko.map(t=>t.code.replace("_","-")),"en")}function Wt(n){try{return new Intl.DisplayNames(navigator.languages,{type:"language"}).of(n)}catch{return null}}window._showToast=xe;function xe(n){typeof n=="string"&&(n={text:n});const{onClick:t,delay:a,...o}=n,r=Da({className:`${t||n.destination?"shiny-pill":""}`,gravity:"bottom",position:"center",...o,onClick:()=>{t==null||t(r)}});a?setTimeout(()=>{r.showToast()},a):r.showToast()}function an(n,t=[]){return n?(!t.length||n.indexOf(":")===-1||t.forEach(a=>{const{shortcode:o,staticUrl:r,url:s}=a;n=n.replace(new RegExp(`:${o}:`,"g"),`<picture><source srcset="${r}" media="(prefers-reduced-motion: reduce)"></source><img class="shortcode-emoji emoji" src="${s}" alt=":${o}:" width="16" height="16" loading="lazy" decoding="async" /></picture>`)}),n):""}const qe=document.createElement("div"),Eo=["u-url","mention","hashtag"];function Lo(n,t={}){const{emojis:a,postEnhanceDOM:o=()=>{}}=t;let r=n;const s=document.createElement("div");s.innerHTML=r;const c=/<a/i.test(r),l=r.indexOf("```")!==-1;if(c&&(Array.from(s.querySelectorAll('a:not([target="_blank"])')).forEach(m=>{m.setAttribute("target","_blank")}),Array.from(s.querySelectorAll("a[class]")).forEach(m=>{Array.from(m.classList).forEach(u=>{Eo.includes(u)||m.classList.remove(u)})})),c&&Array.from(s.querySelectorAll("a[href]")).forEach(d=>{/^https?:\/\//i.test(d.textContent.trim())&&d.classList.add("has-url-text")}),c){const p=Array.from(s.querySelectorAll("a[href]")),d=[];p.forEach(m=>{const u=m.innerText.trim(),v=m.querySelector("*");if(/^@[^@]+(@[^@]+)?$/g.test(u)){const[y,g,b]=u.split("@");v||(!d.find(([x])=>x===g)||d.find(([x,A])=>x===g&&A===b)?(m.innerHTML=`@<span>${g}</span>`,d.push([g,b])):m.innerHTML=`@<span>${g}@${b}</span>`),m.classList.add("mention")}/^#[^#]+$/g.test(u)&&(v||(m.innerHTML=`#<span>${u.slice(1)}</span>`),m.classList.add("mention","hashtag"))})}let f;if(r.indexOf(":")!==-1&&(f=Gt(s),f.forEach(p=>{let d=p.nodeValue.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");a&&(d=an(d,a)),qe.innerHTML=d;const m=Array.from(qe.childNodes);p.replaceWith(...m)})),l&&Array.from(s.querySelectorAll("p")).filter(d=>/^```[^]+```$/g.test(d.innerText.trim())).forEach(d=>{const m=document.createElement("pre");d.querySelectorAll("br").forEach(u=>u.replaceWith(`
`)),m.innerHTML=`<code>${d.innerHTML.trim()}</code>`,d.replaceWith(m)}),l&&Array.from(s.querySelectorAll("p")).filter(m=>/^```/g.test(m.innerText)).forEach(m=>{const u=[m];let v=!1,y=m;for(;y.nextElementSibling;){const g=y.nextElementSibling;if(g&&g.tagName==="P")if(/```$/g.test(g.innerText)){u.push(g),v=!0;break}else u.push(g);else break;y=g}if(v){const g=document.createElement("pre");u.forEach(x=>{x.querySelectorAll("br").forEach(A=>A.replaceWith(`
`))});const b=u.map(x=>x.innerHTML).join(`

`);g.innerHTML=`<code tabindex="0">${b}</code>`,m.replaceWith(g),u.forEach(x=>x.remove())}}),r.indexOf("`")!==-1&&(f=Gt(s),f.forEach(p=>{let d=p.nodeValue.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");/`[^`]+`/g.test(d)&&(d=d.replaceAll(/(`[^]+?`)/g,"<code>$1</code>")),qe.innerHTML=d;const m=Array.from(qe.childNodes);p.replaceWith(...m)})),/twitter\.com/i.test(r)&&(f=Gt(s,{rejectFilter:["A"]}),f.forEach(p=>{let d=p.nodeValue.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");/@[a-zA-Z0-9_]+@twitter\.com/g.test(d)&&(d=d.replaceAll(/(@([a-zA-Z0-9_]+)@twitter\.com)/g,'<a href="https://twitter.com/$2" rel="nofollow noopener noreferrer" target="_blank">$1</a>')),qe.innerHTML=d;const m=Array.from(qe.childNodes);p.replaceWith(...m)})),r.indexOf("#")!==-1){let p=null;const d=Array.from(s.querySelectorAll("p")).filter((m,u)=>{let v=0;for(let y=0;y<m.childNodes.length;y++){const g=m.childNodes[y];if(g.nodeType===Node.TEXT_NODE){if(g.textContent.trim()!=="")return!1}else if(g.tagName!=="BR")if(g.tagName==="A"){const b=g.textContent.trim();if(!b||!b.startsWith("#"))return!1;v++}else return!1}if(v>3||v>1&&p&&u===p+1)return p=u,!0});d!=null&&d.length&&d.forEach(m=>{m.classList.add("hashtag-stuffing"),m.title=m.innerText})}return o&&o(s),r=s.innerHTML,r}const tn=Ze(Lo),To=["STYLE","IMG","VIDEO","AUDIO","AREA","MAP","TRACK","EMBED","IFRAME","OBJECT","PICTURE","PORTAL","SOURCE","SVG","MATH","CANVAS","NOSCRIPT","SCRIPT","INPUT","OPTION","TEXTAREA","SLOT","TEMPLATE"],Ao=Object.fromEntries(To.map(n=>[n,!0]));function Gt(n,t={}){const a=[],o=document.createTreeWalker(n,NodeFilter.SHOW_TEXT,{acceptNode(s){return Ao[s.parentNode.nodeName]||t.rejectFilter&&t.rejectFilter.includes(s.parentNode.nodeName)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT}},!1);let r;for(;r=o.nextNode();)a.push(r);return a}const Jt=document.createElement("div");function Co(n){return n?(Jt.innerHTML=n.replace(/<\/p>/g,`</p>

`).replace(/<\/li>/g,`</li>
`),Jt.querySelectorAll("br").forEach(t=>{t.replaceWith(`
`)}),Jt.innerText.replace(/[\r\n]{3,}/g,`

`).trim()):""}const nn=Ze(Co);function Fo(n){const{mentions:t=[],instance:a,previewMode:o,statusURL:r}=n||{};return s=>{var d,m;let{target:c}=s;if(c=c.closest("a"),!c||s.metaKey||s.ctrlKey||s.shiftKey||s.altKey||s.which===2)return;const l=(d=c.previousSibling)==null?void 0:d.textContent,f=l==null?void 0:l.endsWith("@"),p=c.innerText.startsWith("@");if(c.classList.contains("u-url")&&p||f&&!p){const u=(c.querySelector("span")||c).innerText.trim(),v=u.replace(/^@/,""),y=c.getAttribute("href"),g=t.find(b=>b.username===v||b.acct===v||b.url===y);if(g)s.preventDefault(),s.stopPropagation(),T.showAccount={account:g.acct,instance:a};else if(!/^http/i.test(u)){s.preventDefault(),s.stopPropagation();const b=c.getAttribute("href");T.showAccount={account:b,instance:a}}}else if(!o){const u=l==null?void 0:l.endsWith("#");if(c.classList.contains("hashtag")||u){s.preventDefault(),s.stopPropagation();const v=c.innerText.replace(/^#/,"").trim(),y=a?`#/${a}/t/${v}`:`#/t/${v}`;location.hash=y}else(m=T.unfurledLinks[c.href])!=null&&m.url&&r!==c.href&&(s.preventDefault(),s.stopPropagation(),T.prevLocation={pathname:location.hash.replace(/^#/,"")},location.hash=`#${T.unfurledLinks[c.href].url}`)}}}const{locale:Io}=new Intl.DateTimeFormat().resolvedOptions();function At(n,{hideTime:t,formatOpts:a}={}){n instanceof Date||(n=new Date(n));const o=new Date().getFullYear();return Intl.DateTimeFormat(Io,{year:n.getFullYear()===o?void 0:"numeric",month:"short",day:"numeric",hour:t?void 0:"numeric",minute:t?void 0:"numeric",...a}).format(n)}const{locale:$o}=Intl.NumberFormat().resolvedOptions(),Ge=Intl.NumberFormat($o,{notation:"compact"}).format;function Zn({skeleton:n,account:t,avatarSize:a="xl",instance:o,external:r,internal:s,onClick:c,showActivity:l=!1,showStats:f=!1,accountInstance:p,hideDisplayName:d=!1}){if(n)return e("div",{class:"account-block skeleton",children:[e(He,{size:a}),e("span",{children:[e("b",{children:"████████"}),e("br",{}),e("span",{class:"account-block-acct",children:"@██████"})]})]});const{id:m,acct:u,avatar:v,avatarStatic:y,displayName:g,username:b,emojis:x,url:A,statusesCount:_,lastStatusAt:L,bot:S,fields:O,note:D,group:G}=t;let[q,j,N]=u.match(/([^@]+)(@.+)/i)||[,u];p&&(N=`@${p}`);const R=O==null?void 0:O.find(oe=>!!oe.verifiedAt&&!!oe.value);return e("a",{class:"account-block",href:A,target:r?"_blank":null,title:`@${u}`,onClick:oe=>{if(!r){if(oe.preventDefault(),c)return c(oe);s?location.hash=`/${o}/a/${m}`:T.showAccount={account:t,instance:o}}},children:[e(He,{url:v,size:a,squircle:S}),e("span",{children:[!d&&e(H,{children:[g?e("b",{children:e(st,{text:g,emojis:x})}):e("b",{children:b}),e("br",{})]}),e("span",{class:"account-block-acct",children:["@",j,e("wbr",{}),N]}),l&&e(H,{children:[e("br",{}),e("small",{class:"last-status-at insignificant",children:["Posts: ",_,!!L&&e(H,{children:[" ","· Last posted:"," ",At(L,{hideTime:!0})]})]})]}),f&&e("div",{class:"account-block-stats",children:[e("div",{class:"short-desc",dangerouslySetInnerHTML:{__html:tn(D,{emojis:x})}}),S&&e(H,{children:e("span",{class:"tag",children:[e(E,{icon:"bot"})," Automated"]})}),!!G&&e(H,{children:e("span",{class:"tag",children:[e(E,{icon:"group"})," Group"]})}),!!R&&e("span",{class:"verified-field ib",children:[e(E,{icon:"check-circle",size:"s"})," ",e("span",{dangerouslySetInnerHTML:{__html:tn(R.value,{emojis:x})}})]})]})]})]})}const So={"@mastodon/edit-media-attributes":">=4.1","@mastodon/list-exclusive":">=4.2"},Yt={};function Xn(n){try{const{version:t,domain:a}=Gn(),o=`${a}-${n}`;if(Yt[o])return Yt[o];const r=So[n];return r?Yt[o]=Ra.satisfies(t,r,{includePrerelease:!0,loose:!0}):!1}catch{return!1}}const Do=[{code:"auto",name:"Detect"},{code:"af",name:"Afrikaans"},{code:"sq",name:"Albanian"},{code:"am",name:"Amharic"},{code:"ar",name:"Arabic"},{code:"hy",name:"Armenian"},{code:"as",name:"Assamese"},{code:"ay",name:"Aymara"},{code:"az",name:"Azerbaijani"},{code:"bm",name:"Bambara"},{code:"eu",name:"Basque"},{code:"be",name:"Belarusian"},{code:"bn",name:"Bengali"},{code:"bho",name:"Bhojpuri"},{code:"bs",name:"Bosnian"},{code:"bg",name:"Bulgarian"},{code:"ca",name:"Catalan"},{code:"ceb",name:"Cebuano"},{code:"ny",name:"Chichewa"},{code:"zh",name:"Chinese"},{code:"co",name:"Corsican"},{code:"hr",name:"Croatian"},{code:"cs",name:"Czech"},{code:"da",name:"Danish"},{code:"dv",name:"Dhivehi"},{code:"doi",name:"Dogri"},{code:"nl",name:"Dutch"},{code:"en",name:"English"},{code:"eo",name:"Esperanto"},{code:"et",name:"Estonian"},{code:"ee",name:"Ewe"},{code:"tl",name:"Filipino"},{code:"fi",name:"Finnish"},{code:"fr",name:"French"},{code:"fy",name:"Frisian"},{code:"gl",name:"Galician"},{code:"ka",name:"Georgian"},{code:"de",name:"German"},{code:"el",name:"Greek"},{code:"gn",name:"Guarani"},{code:"gu",name:"Gujarati"},{code:"ht",name:"Haitian Creole"},{code:"ha",name:"Hausa"},{code:"haw",name:"Hawaiian"},{code:"iw",name:"Hebrew"},{code:"hi",name:"Hindi"},{code:"hmn",name:"Hmong"},{code:"hu",name:"Hungarian"},{code:"is",name:"Icelandic"},{code:"ig",name:"Igbo"},{code:"ilo",name:"Ilocano"},{code:"id",name:"Indonesian"},{code:"ga",name:"Irish"},{code:"it",name:"Italian"},{code:"ja",name:"Japanese"},{code:"jw",name:"Javanese"},{code:"kn",name:"Kannada"},{code:"kk",name:"Kazakh"},{code:"km",name:"Khmer"},{code:"rw",name:"Kinyarwanda"},{code:"gom",name:"Konkani"},{code:"ko",name:"Korean"},{code:"kri",name:"Krio"},{code:"ku",name:"Kurdish (Kurmanji)"},{code:"ckb",name:"Kurdish (Sorani)"},{code:"ky",name:"Kyrgyz"},{code:"lo",name:"Lao"},{code:"la",name:"Latin"},{code:"lv",name:"Latvian"},{code:"ln",name:"Lingala"},{code:"lt",name:"Lithuanian"},{code:"lg",name:"Luganda"},{code:"lb",name:"Luxembourgish"},{code:"mk",name:"Macedonian"},{code:"mai",name:"Maithili"},{code:"mg",name:"Malagasy"},{code:"ms",name:"Malay"},{code:"ml",name:"Malayalam"},{code:"mt",name:"Maltese"},{code:"mi",name:"Maori"},{code:"mr",name:"Marathi"},{code:"mni-Mtei",name:"Meiteilon (Manipuri)"},{code:"lus",name:"Mizo"},{code:"mn",name:"Mongolian"},{code:"my",name:"Myanmar (Burmese)"},{code:"ne",name:"Nepali"},{code:"no",name:"Norwegian"},{code:"or",name:"Odia (Oriya)"},{code:"om",name:"Oromo"},{code:"ps",name:"Pashto"},{code:"fa",name:"Persian"},{code:"pl",name:"Polish"},{code:"pt",name:"Portuguese"},{code:"pa",name:"Punjabi"},{code:"qu",name:"Quechua"},{code:"ro",name:"Romanian"},{code:"ru",name:"Russian"},{code:"sm",name:"Samoan"},{code:"sa",name:"Sanskrit"},{code:"gd",name:"Scots Gaelic"},{code:"nso",name:"Sepedi"},{code:"sr",name:"Serbian"},{code:"st",name:"Sesotho"},{code:"sn",name:"Shona"},{code:"sd",name:"Sindhi"},{code:"si",name:"Sinhala"},{code:"sk",name:"Slovak"},{code:"sl",name:"Slovenian"},{code:"so",name:"Somali"},{code:"es",name:"Spanish"},{code:"su",name:"Sundanese"},{code:"sw",name:"Swahili"},{code:"sv",name:"Swedish"},{code:"tg",name:"Tajik"},{code:"ta",name:"Tamil"},{code:"tt",name:"Tatar"},{code:"te",name:"Telugu"},{code:"th",name:"Thai"},{code:"ti",name:"Tigrinya"},{code:"ts",name:"Tsonga"},{code:"tr",name:"Turkish"},{code:"tk",name:"Turkmen"},{code:"ak",name:"Twi"},{code:"uk",name:"Ukrainian"},{code:"ur",name:"Urdu"},{code:"ug",name:"Uyghur"},{code:"uz",name:"Uzbek"},{code:"vi",name:"Vietnamese"},{code:"cy",name:"Welsh"},{code:"xh",name:"Xhosa"},{code:"yi",name:"Yiddish"},{code:"yo",name:"Yoruba"},{code:"zu",name:"Zulu"}],Ro=Hn({limit:1,interval:2e3}),Tn=["lingva.lunar.icu","lingva.garudalinux.org","translate.plausibility.cloud"];let Zt=0;function Po(n,t,a){return Pa(()=>{let r=Tn[Zt];return fetch(`https://${r}/api/v1/${t}/${a}/${encodeURIComponent(n)}`).then(s=>{if(!s.ok)throw new Error(s.statusText);return s.json()}).then(s=>{var c;return{provider:"lingva",content:s.translation,detectedSourceLanguage:(c=s.info)==null?void 0:c.detectedSource,info:s.info}})},{retries:3,onFailedAttempt:r=>{Zt=(Zt+1)%Tn.length}})}const Qn=1e3*60*60,ea=It(Po,{maxAge:Qn}),Mo=It(Ro(ea),{maxAge:Qn});function Oo({forceTranslate:n,sourceLanguage:t,onTranslate:a,text:o="",mini:r}){const s=Yn(!0),[c,l]=W("default"),[f,p]=W(null),[d,m]=W(null),[u,v]=W(null),y=Q(),g=t?Wt(t):null,b=Wt(s),x=Q("auto");a||(a=r?Mo:ea);const A=async()=>{var _,L;l("loading");try{const{content:S,detectedSourceLanguage:O,provider:D,error:G,...q}=await a(o,x.current,s);if(S){if(O){const j=Wt(O);v(j)}if(D==="lingva"){const j=(L=(_=q==null?void 0:q.info)==null?void 0:_.pronunciation)==null?void 0:L.query;j&&p(j)}m(S),l("default"),!r&&S.trim()!==o.trim()&&(y.current.open=!0,y.current.scrollIntoView({behavior:"smooth",block:"nearest"}))}else l("error")}catch{l("error")}};return le(()=>{n&&A()},[n]),r?d&&d.trim()!==o.trim()&&u!==b?e("div",{class:"shazam-container",children:e("div",{class:"shazam-container-inner",children:e("div",{class:"status-translation-block-mini",children:[e(E,{icon:"translate",alt:`Auto-translated from ${g}`}),e("output",{lang:s,dir:"auto",title:f||"",children:d})]})})}):null:e("div",{class:"status-translation-block",onClick:_=>{_.preventDefault()},children:e("details",{ref:y,children:[e("summary",{children:e("button",{type:"button",onClick:async _=>{_.preventDefault(),_.stopPropagation(),y.current.open=!y.current.open,c!=="loading"&&(d||A())},children:[e(E,{icon:"translate"})," ",e("span",{children:c==="loading"?"Translating…":t&&g&&!u?`Translate from ${g}`:"Translate"})]})}),e("div",{class:"translated-block",children:[e("div",{class:"translation-info insignificant",children:[e("select",{class:"translated-source-select",disabled:c==="loading",onChange:_=>{x.current=_.target.value,A()},children:Do.map(_=>e("option",{value:_.code,children:_.code==="auto"?`Auto (${u??"…"})`:_.name}))})," ",e("span",{children:["→ ",b]}),e(Je,{abrupt:!0,hidden:c!=="loading"})]}),c==="error"?e("p",{class:"ui-state",children:"Failed to translate"}):!!d&&e(H,{children:[e("output",{class:"translated-content",lang:s,dir:"auto",children:d}),!!f&&e("output",{class:"translated-pronunciation-content",tabIndex:-1,onClick:_=>{_.target.classList.toggle("expand")},children:f})]})]})]})})}const on=[["aa","Afar","Afaraf"],["ab","Abkhaz","аҧсуа бызшәа"],["ae","Avestan","avesta"],["af","Afrikaans","Afrikaans"],["ak","Akan","Akan"],["am","Amharic","አማርኛ"],["an","Aragonese","aragonés"],["ar","Arabic","اللغة العربية"],["as","Assamese","অসমীয়া"],["av","Avaric","авар мацӀ"],["ay","Aymara","aymar aru"],["az","Azerbaijani","azərbaycan dili"],["ba","Bashkir","башҡорт теле"],["be","Belarusian","беларуская мова"],["bg","Bulgarian","български език"],["bh","Bihari","भोजपुरी"],["bi","Bislama","Bislama"],["bm","Bambara","bamanankan"],["bn","Bengali","বাংলা"],["bo","Tibetan","བོད་ཡིག"],["br","Breton","brezhoneg"],["bs","Bosnian","bosanski jezik"],["ca","Catalan","Català"],["ce","Chechen","нохчийн мотт"],["ch","Chamorro","Chamoru"],["co","Corsican","corsu"],["cr","Cree","ᓀᐦᐃᔭᐍᐏᐣ"],["cs","Czech","čeština"],["cu","Old Church Slavonic","ѩзыкъ словѣньскъ"],["cv","Chuvash","чӑваш чӗлхи"],["cy","Welsh","Cymraeg"],["da","Danish","dansk"],["de","German","Deutsch"],["dv","Divehi","Dhivehi"],["dz","Dzongkha","རྫོང་ཁ"],["ee","Ewe","Eʋegbe"],["el","Greek","Ελληνικά"],["en","English","English"],["eo","Esperanto","Esperanto"],["es","Spanish","Español"],["et","Estonian","eesti"],["eu","Basque","euskara"],["fa","Persian","فارسی"],["ff","Fula","Fulfulde"],["fi","Finnish","suomi"],["fj","Fijian","Vakaviti"],["fo","Faroese","føroyskt"],["fr","French","Français"],["fy","Western Frisian","Frysk"],["ga","Irish","Gaeilge"],["gd","Scottish Gaelic","Gàidhlig"],["gl","Galician","galego"],["gu","Gujarati","ગુજરાતી"],["gv","Manx","Gaelg"],["ha","Hausa","هَوُسَ"],["he","Hebrew","עברית"],["hi","Hindi","हिन्दी"],["ho","Hiri Motu","Hiri Motu"],["hr","Croatian","Hrvatski"],["ht","Haitian","Kreyòl ayisyen"],["hu","Hungarian","magyar"],["hy","Armenian","Հայերեն"],["hz","Herero","Otjiherero"],["ia","Interlingua","Interlingua"],["id","Indonesian","Bahasa Indonesia"],["ie","Interlingue","Interlingue"],["ig","Igbo","Asụsụ Igbo"],["ii","Nuosu","ꆈꌠ꒿ Nuosuhxop"],["ik","Inupiaq","Iñupiaq"],["io","Ido","Ido"],["is","Icelandic","Íslenska"],["it","Italian","Italiano"],["iu","Inuktitut","ᐃᓄᒃᑎᑐᑦ"],["ja","Japanese","日本語"],["jv","Javanese","basa Jawa"],["ka","Georgian","ქართული"],["kg","Kongo","Kikongo"],["ki","Kikuyu","Gĩkũyũ"],["kj","Kwanyama","Kuanyama"],["kk","Kazakh","қазақ тілі"],["kl","Kalaallisut","kalaallisut"],["km","Khmer","ខេមរភាសា"],["kn","Kannada","ಕನ್ನಡ"],["ko","Korean","한국어"],["kr","Kanuri","Kanuri"],["ks","Kashmiri","कश्मीरी"],["ku","Kurmanji (Kurdish)","Kurmancî"],["kv","Komi","коми кыв"],["kw","Cornish","Kernewek"],["ky","Kyrgyz","Кыргызча"],["la","Latin","latine"],["lb","Luxembourgish","Lëtzebuergesch"],["lg","Ganda","Luganda"],["li","Limburgish","Limburgs"],["ln","Lingala","Lingála"],["lo","Lao","ລາວ"],["lt","Lithuanian","lietuvių kalba"],["lu","Luba-Katanga","Tshiluba"],["lv","Latvian","latviešu valoda"],["mg","Malagasy","fiteny malagasy"],["mh","Marshallese","Kajin M̧ajeļ"],["mi","Māori","te reo Māori"],["mk","Macedonian","македонски јазик"],["ml","Malayalam","മലയാളം"],["mn","Mongolian","Монгол хэл"],["mr","Marathi","मराठी"],["ms","Malay","Bahasa Melayu"],["mt","Maltese","Malti"],["my","Burmese","ဗမာစာ"],["na","Nauru","Ekakairũ Naoero"],["nb","Norwegian Bokmål","Norsk bokmål"],["nd","Northern Ndebele","isiNdebele"],["ne","Nepali","नेपाली"],["ng","Ndonga","Owambo"],["nl","Dutch","Nederlands"],["nn","Norwegian Nynorsk","Norsk Nynorsk"],["no","Norwegian","Norsk"],["nr","Southern Ndebele","isiNdebele"],["nv","Navajo","Diné bizaad"],["ny","Chichewa","chiCheŵa"],["oc","Occitan","occitan"],["oj","Ojibwe","ᐊᓂᔑᓈᐯᒧᐎᓐ"],["om","Oromo","Afaan Oromoo"],["or","Oriya","ଓଡ଼ିଆ"],["os","Ossetian","ирон æвзаг"],["pa","Panjabi","ਪੰਜਾਬੀ"],["pi","Pāli","पाऴि"],["pl","Polish","Polski"],["ps","Pashto","پښتو"],["pt","Portuguese","Português"],["qu","Quechua","Runa Simi"],["rm","Romansh","rumantsch grischun"],["rn","Kirundi","Ikirundi"],["ro","Romanian","Română"],["ru","Russian","Русский"],["rw","Kinyarwanda","Ikinyarwanda"],["sa","Sanskrit","संस्कृतम्"],["sc","Sardinian","sardu"],["sd","Sindhi","सिन्धी"],["se","Northern Sami","Davvisámegiella"],["sg","Sango","yângâ tî sängö"],["si","Sinhala","සිංහල"],["sk","Slovak","slovenčina"],["sl","Slovenian","slovenščina"],["sn","Shona","chiShona"],["so","Somali","Soomaaliga"],["sq","Albanian","Shqip"],["sr","Serbian","српски језик"],["ss","Swati","SiSwati"],["st","Southern Sotho","Sesotho"],["su","Sundanese","Basa Sunda"],["sv","Swedish","Svenska"],["sw","Swahili","Kiswahili"],["ta","Tamil","தமிழ்"],["te","Telugu","తెలుగు"],["tg","Tajik","тоҷикӣ"],["th","Thai","ไทย"],["ti","Tigrinya","ትግርኛ"],["tk","Turkmen","Türkmen"],["tl","Tagalog","Wikang Tagalog"],["tn","Tswana","Setswana"],["to","Tonga","faka Tonga"],["tr","Turkish","Türkçe"],["ts","Tsonga","Xitsonga"],["tt","Tatar","татар теле"],["tw","Twi","Twi"],["ty","Tahitian","Reo Tahiti"],["ug","Uyghur","ئۇيغۇرچە‎"],["uk","Ukrainian","Українська"],["ur","Urdu","اردو"],["uz","Uzbek","Ўзбек"],["ve","Venda","Tshivenḓa"],["vi","Vietnamese","Tiếng Việt"],["vo","Volapük","Volapük"],["wa","Walloon","walon"],["wo","Wolof","Wollof"],["xh","Xhosa","isiXhosa"],["yi","Yiddish","ייִדיש"],["yo","Yoruba","Yorùbá"],["za","Zhuang","Saɯ cueŋƅ"],["zh","Chinese","中文"],["zu","Zulu","isiZulu"],["zh-CN","Chinese (China)","简体中文"],["zh-HK","Chinese (Hong Kong)","繁體中文（香港）"],["zh-TW","Chinese (Taiwan)","繁體中文（臺灣）"],["zh-YUE","Cantonese","廣東話"],["ast","Asturian","Asturianu"],["chr","Cherokee","ᏣᎳᎩ ᎦᏬᏂᎯᏍᏗ"],["ckb","Sorani (Kurdish)","سۆرانی"],["cnr","Montenegrin","crnogorski"],["jbo","Lojban","la .lojban."],["kab","Kabyle","Taqbaylit"],["kmr","Kurmanji (Kurdish)","Kurmancî"],["ldn","Láadan","Láadan"],["lfn","Lingua Franca Nova","lingua franca nova"],["sco","Scots","Scots"],["sma","Southern Sami","Åarjelsaemien Gïele"],["smj","Lule Sami","Julevsámegiella"],["szl","Silesian","ślůnsko godka"],["tok","Toki Pona","toki pona"],["xal","Kalmyk","Хальмг келн"],["zba","Balaibalan","باليبلن"],["zgh","Standard Moroccan Tamazight","ⵜⴰⵎⴰⵣⵉⵖⵜ"]],zo="(((?:[^A-Za-z0-9@＠$#＃\\uFFFE\\uFEFF\\uFFFF]|[\\u202A-\\u202E\\u061C\\u200E\\u200F\\u2066\\u2067\\u2068\\u2069]|^))((https?:\\/\\/)((?:(?:(?:[^/\\!'#%&'\\(\\)*\\+,\\\\\\-\\.\\/:;<=>\\?@\\[\\]\\^_{|}~\\$//\\x09-\\x0D\\x20\\x85\\xA0\\u1680\\u180E\\u2000-\\u200A\\u2028\\u2029\\u202F\\u205F\\u3000//\\uFFFE\\uFEFF\\uFFFF//\\u202A-\\u202E\\u061C\\u200E\\u200F\\u2066\\u2067\\u2068\\u2069/](?:[_-]|[^/\\!'#%&'\\(\\)*\\+,\\\\\\-\\.\\/:;<=>\\?@\\[\\]\\^_{|}~\\$//\\x09-\\x0D\\x20\\x85\\xA0\\u1680\\u180E\\u2000-\\u200A\\u2028\\u2029\\u202F\\u205F\\u3000//\\uFFFE\\uFEFF\\uFFFF//\\u202A-\\u202E\\u061C\\u200E\\u200F\\u2066\\u2067\\u2068\\u2069/])*)?[^/\\!'#%&'\\(\\)*\\+,\\\\\\-\\.\\/:;<=>\\?@\\[\\]\\^_{|}~\\$//\\x09-\\x0D\\x20\\x85\\xA0\\u1680\\u180E\\u2000-\\u200A\\u2028\\u2029\\u202F\\u205F\\u3000//\\uFFFE\\uFEFF\\uFFFF//\\u202A-\\u202E\\u061C\\u200E\\u200F\\u2066\\u2067\\u2068\\u2069/]\\.)*(?:(?:[^/\\!'#%&'\\(\\)*\\+,\\\\\\-\\.\\/:;<=>\\?@\\[\\]\\^_{|}~\\$//\\x09-\\x0D\\x20\\x85\\xA0\\u1680\\u180E\\u2000-\\u200A\\u2028\\u2029\\u202F\\u205F\\u3000//\\uFFFE\\uFEFF\\uFFFF//\\u202A-\\u202E\\u061C\\u200E\\u200F\\u2066\\u2067\\u2068\\u2069/](?:-|[^/\\!'#%&'\\(\\)*\\+,\\\\\\-\\.\\/:;<=>\\?@\\[\\]\\^_{|}~\\$//\\x09-\\x0D\\x20\\x85\\xA0\\u1680\\u180E\\u2000-\\u200A\\u2028\\u2029\\u202F\\u205F\\u3000//\\uFFFE\\uFEFF\\uFFFF//\\u202A-\\u202E\\u061C\\u200E\\u200F\\u2066\\u2067\\u2068\\u2069/])*)?[^/\\!'#%&'\\(\\)*\\+,\\\\\\-\\.\\/:;<=>\\?@\\[\\]\\^_{|}~\\$//\\x09-\\x0D\\x20\\x85\\xA0\\u1680\\u180E\\u2000-\\u200A\\u2028\\u2029\\u202F\\u205F\\u3000//\\uFFFE\\uFEFF\\uFFFF//\\u202A-\\u202E\\u061C\\u200E\\u200F\\u2066\\u2067\\u2068\\u2069/]\\.)(?:(?:(?:삼성|닷컴|닷넷|香格里拉|餐厅|食品|飞利浦|電訊盈科|集团|通販|购物|谷歌|诺基亚|联通|网络|网站|网店|网址|组织机构|移动|珠宝|点看|游戏|淡马锡|机构|書籍|时尚|新闻|政府|政务|招聘|手表|手机|我爱你|慈善|微博|广东|工行|家電|娱乐|天主教|大拿|大众汽车|在线|嘉里大酒店|嘉里|商标|商店|商城|公益|公司|八卦|健康|信息|佛山|企业|中文网|中信|世界|ポイント|ファッション|セール|ストア|コム|グーグル|クラウド|みんな|คอม|संगठन|नेट|कॉम|همراه|موقع|موبايلي|كوم|كاثوليك|عرب|شبكة|بيتك|بازار|العليان|ارامكو|اتصالات|ابوظبي|קום|сайт|рус|орг|онлайн|москва|ком|католик|дети|zuerich|zone|zippo|zip|zero|zara|zappos|yun|youtube|you|yokohama|yoga|yodobashi|yandex|yamaxun|yahoo|yachts|xyz|xxx|xperia|xin|xihuan|xfinity|xerox|xbox|wtf|wtc|wow|world|works|work|woodside|wolterskluwer|wme|winners|wine|windows|win|williamhill|wiki|wien|whoswho|weir|weibo|wedding|wed|website|weber|webcam|weatherchannel|weather|watches|watch|warman|wanggou|wang|walter|walmart|wales|vuelos|voyage|voto|voting|vote|volvo|volkswagen|vodka|vlaanderen|vivo|viva|vistaprint|vista|vision|visa|virgin|vip|vin|villas|viking|vig|video|viajes|vet|versicherung|vermögensberatung|vermögensberater|verisign|ventures|vegas|vanguard|vana|vacations|ups|uol|uno|university|unicom|uconnect|ubs|ubank|tvs|tushu|tunes|tui|tube|trv|trust|travelersinsurance|travelers|travelchannel|travel|training|trading|trade|toys|toyota|town|tours|total|toshiba|toray|top|tools|tokyo|today|tmall|tkmaxx|tjx|tjmaxx|tirol|tires|tips|tiffany|tienda|tickets|tiaa|theatre|theater|thd|teva|tennis|temasek|telefonica|telecity|tel|technology|tech|team|tdk|tci|taxi|tax|tattoo|tatar|tatamotors|target|taobao|talk|taipei|tab|systems|symantec|sydney|swiss|swiftcover|swatch|suzuki|surgery|surf|support|supply|supplies|sucks|style|study|studio|stream|store|storage|stockholm|stcgroup|stc|statoil|statefarm|statebank|starhub|star|staples|stada|srt|srl|spreadbetting|spot|sport|spiegel|space|soy|sony|song|solutions|solar|sohu|software|softbank|social|soccer|sncf|smile|smart|sling|skype|sky|skin|ski|site|singles|sina|silk|shriram|showtime|show|shouji|shopping|shop|shoes|shiksha|shia|shell|shaw|sharp|shangrila|sfr|sexy|sex|sew|seven|ses|services|sener|select|seek|security|secure|seat|search|scot|scor|scjohnson|science|schwarz|schule|school|scholarships|schmidt|schaeffler|scb|sca|sbs|sbi|saxo|save|sas|sarl|sapo|sap|sanofi|sandvikcoromant|sandvik|samsung|samsclub|salon|sale|sakura|safety|safe|saarland|ryukyu|rwe|run|ruhr|rugby|rsvp|room|rogers|rodeo|rocks|rocher|rmit|rip|rio|ril|rightathome|ricoh|richardli|rich|rexroth|reviews|review|restaurant|rest|republican|report|repair|rentals|rent|ren|reliance|reit|reisen|reise|rehab|redumbrella|redstone|red|recipes|realty|realtor|realestate|read|raid|radio|racing|qvc|quest|quebec|qpon|pwc|pub|prudential|pru|protection|property|properties|promo|progressive|prof|productions|prod|pro|prime|press|praxi|pramerica|post|porn|politie|poker|pohl|pnc|plus|plumbing|playstation|play|place|pizza|pioneer|pink|ping|pin|pid|pictures|pictet|pics|piaget|physio|photos|photography|photo|phone|philips|phd|pharmacy|pfizer|pet|pccw|pay|passagens|party|parts|partners|pars|paris|panerai|panasonic|pamperedchef|page|ovh|ott|otsuka|osaka|origins|orientexpress|organic|org|orange|oracle|open|ooo|onyourside|online|onl|ong|one|omega|ollo|oldnavy|olayangroup|olayan|okinawa|office|off|observer|obi|nyc|ntt|nrw|nra|nowtv|nowruz|now|norton|northwesternmutual|nokia|nissay|nissan|ninja|nikon|nike|nico|nhk|ngo|nfl|nexus|nextdirect|next|news|newholland|new|neustar|network|netflix|netbank|net|nec|nba|navy|natura|nationwide|name|nagoya|nadex|nab|mutuelle|mutual|museum|mtr|mtpc|mtn|msd|movistar|movie|mov|motorcycles|moto|moscow|mortgage|mormon|mopar|montblanc|monster|money|monash|mom|moi|moe|moda|mobily|mobile|mobi|mma|mls|mlb|mitsubishi|mit|mint|mini|mil|microsoft|miami|metlife|merckmsd|meo|menu|men|memorial|meme|melbourne|meet|media|med|mckinsey|mcdonalds|mcd|mba|mattel|maserati|marshalls|marriott|markets|marketing|market|map|mango|management|man|makeup|maison|maif|madrid|macys|luxury|luxe|lupin|lundbeck|ltda|ltd|lplfinancial|lpl|love|lotto|lotte|london|lol|loft|locus|locker|loans|loan|llp|llc|lixil|living|live|lipsy|link|linde|lincoln|limo|limited|lilly|like|lighting|lifestyle|lifeinsurance|life|lidl|liaison|lgbt|lexus|lego|legal|lefrak|leclerc|lease|lds|lawyer|law|latrobe|latino|lat|lasalle|lanxess|landrover|land|lancome|lancia|lancaster|lamer|lamborghini|ladbrokes|lacaixa|kyoto|kuokgroup|kred|krd|kpn|kpmg|kosher|komatsu|koeln|kiwi|kitchen|kindle|kinder|kim|kia|kfh|kerryproperties|kerrylogistics|kerryhotels|kddi|kaufen|juniper|juegos|jprs|jpmorgan|joy|jot|joburg|jobs|jnj|jmp|jll|jlc|jio|jewelry|jetzt|jeep|jcp|jcb|java|jaguar|iwc|iveco|itv|itau|istanbul|ist|ismaili|iselect|irish|ipiranga|investments|intuit|international|intel|int|insure|insurance|institute|ink|ing|info|infiniti|industries|inc|immobilien|immo|imdb|imamat|ikano|iinet|ifm|ieee|icu|ice|icbc|ibm|hyundai|hyatt|hughes|htc|hsbc|how|house|hotmail|hotels|hoteles|hot|hosting|host|hospital|horse|honeywell|honda|homesense|homes|homegoods|homedepot|holiday|holdings|hockey|hkt|hiv|hitachi|hisamitsu|hiphop|hgtv|hermes|here|helsinki|help|healthcare|health|hdfcbank|hdfc|hbo|haus|hangout|hamburg|hair|guru|guitars|guide|guge|gucci|guardian|group|grocery|gripe|green|gratis|graphics|grainger|gov|got|gop|google|goog|goodyear|goodhands|goo|golf|goldpoint|gold|godaddy|gmx|gmo|gmbh|gmail|globo|global|gle|glass|glade|giving|gives|gifts|gift|ggee|george|genting|gent|gea|gdn|gbiz|gay|garden|gap|games|game|gallup|gallo|gallery|gal|fyi|futbol|furniture|fund|fun|fujixerox|fujitsu|ftr|frontier|frontdoor|frogans|frl|fresenius|free|fox|foundation|forum|forsale|forex|ford|football|foodnetwork|food|foo|fly|flsmidth|flowers|florist|flir|flights|flickr|fitness|fit|fishing|fish|firmdale|firestone|fire|financial|finance|final|film|fido|fidelity|fiat|ferrero|ferrari|feedback|fedex|fast|fashion|farmers|farm|fans|fan|family|faith|fairwinds|fail|fage|extraspace|express|exposed|expert|exchange|everbank|events|eus|eurovision|etisalat|esurance|estate|esq|erni|ericsson|equipment|epson|epost|enterprises|engineering|engineer|energy|emerck|email|education|edu|edeka|eco|eat|earth|dvr|dvag|durban|dupont|duns|dunlop|duck|dubai|dtv|drive|download|dot|doosan|domains|doha|dog|dodge|doctor|docs|dnp|diy|dish|discover|discount|directory|direct|digital|diet|diamonds|dhl|dev|design|desi|dentist|dental|democrat|delta|deloitte|dell|delivery|degree|deals|dealer|deal|dds|dclk|day|datsun|dating|date|data|dance|dad|dabur|cyou|cymru|cuisinella|csc|cruises|cruise|crs|crown|cricket|creditunion|creditcard|credit|cpa|courses|coupons|coupon|country|corsica|coop|cool|cookingchannel|cooking|contractors|contact|consulting|construction|condos|comsec|computer|compare|company|community|commbank|comcast|com|cologne|college|coffee|codes|coach|clubmed|club|cloud|clothing|clinique|clinic|click|cleaning|claims|cityeats|city|citic|citi|citadel|cisco|circle|cipriani|church|chrysler|chrome|christmas|chloe|chintai|cheap|chat|chase|charity|channel|chanel|cfd|cfa|cern|ceo|center|ceb|cbs|cbre|cbn|cba|catholic|catering|cat|casino|cash|caseih|case|casa|cartier|cars|careers|career|care|cards|caravan|car|capitalone|capital|capetown|canon|cancerresearch|camp|camera|cam|calvinklein|call|cal|cafe|cab|bzh|buzz|buy|business|builders|build|bugatti|budapest|brussels|brother|broker|broadway|bridgestone|bradesco|box|boutique|bot|boston|bostik|bosch|boots|booking|book|boo|bond|bom|bofa|boehringer|boats|bnpparibas|bnl|bmw|bms|blue|bloomberg|blog|blockbuster|blanco|blackfriday|black|biz|bio|bingo|bing|bike|bid|bible|bharti|bet|bestbuy|best|berlin|bentley|beer|beauty|beats|bcn|bcg|bbva|bbt|bbc|bayern|bauhaus|basketball|baseball|bargains|barefoot|barclays|barclaycard|barcelona|bar|bank|band|bananarepublic|banamex|baidu|baby|azure|axa|aws|avianca|autos|auto|author|auspost|audio|audible|audi|auction|attorney|athleta|associates|asia|asda|arte|art|arpa|army|archi|aramco|arab|aquarelle|apple|app|apartments|aol|anz|anquan|android|analytics|amsterdam|amica|amfam|amex|americanfamily|americanexpress|alstom|alsace|ally|allstate|allfinanz|alipay|alibaba|alfaromeo|akdn|airtel|airforce|airbus|aigo|aig|agency|agakhan|africa|afl|afamilycompany|aetna|aero|aeg|adult|ads|adac|actor|active|aco|accountants|accountant|accenture|academy|abudhabi|abogado|able|abc|abbvie|abbott|abb|abarth|aarp|aaa|onion)(?=[^0-9a-zA-Z@+-]|$))|(?:(?:한국|香港|澳門|新加坡|台灣|台湾|中國|中国|გე|ລາວ|ไทย|ලංකා|ഭാരതം|ಭಾರತ|భారత్|சிங்கப்பூர்|இலங்கை|இந்தியா|ଭାରତ|ભારત|ਭਾਰਤ|ভাৰত|ভারত|বাংলা|भारोत|भारतम्|भारत|ڀارت|پاکستان|موريتانيا|مليسيا|مصر|قطر|فلسطين|عمان|عراق|سورية|سودان|تونس|بھارت|بارت|ایران|امارات|المغرب|السعودية|الجزائر|البحرين|الاردن|հայ|қаз|укр|срб|рф|мон|мкд|ею|бел|бг|ευ|ελ|zw|zm|za|yt|ye|ws|wf|vu|vn|vi|vg|ve|vc|va|uz|uy|us|um|uk|ug|ua|tz|tw|tv|tt|tr|tp|to|tn|tm|tl|tk|tj|th|tg|tf|td|tc|sz|sy|sx|sv|su|st|ss|sr|so|sn|sm|sl|sk|sj|si|sh|sg|se|sd|sc|sb|sa|rw|ru|rs|ro|re|qa|py|pw|pt|ps|pr|pn|pm|pl|pk|ph|pg|pf|pe|pa|om|nz|nu|nr|np|no|nl|ni|ng|nf|ne|nc|na|mz|my|mx|mw|mv|mu|mt|ms|mr|mq|mp|mo|mn|mm|ml|mk|mh|mg|mf|me|md|mc|ma|ly|lv|lu|lt|ls|lr|lk|li|lc|lb|la|kz|ky|kw|kr|kp|kn|km|ki|kh|kg|ke|jp|jo|jm|je|it|is|ir|iq|io|in|im|il|ie|id|hu|ht|hr|hn|hm|hk|gy|gw|gu|gt|gs|gr|gq|gp|gn|gm|gl|gi|gh|gg|gf|ge|gd|gb|ga|fr|fo|fm|fk|fj|fi|eu|et|es|er|eh|eg|ee|ec|dz|do|dm|dk|dj|de|cz|cy|cx|cw|cv|cu|cr|co|cn|cm|cl|ck|ci|ch|cg|cf|cd|cc|ca|bz|by|bw|bv|bt|bs|br|bq|bo|bn|bm|bl|bj|bi|bh|bg|bf|be|bd|bb|ba|az|ax|aw|au|at|as|ar|aq|ao|an|am|al|ai|ag|af|ae|ad|ac)(?=[^0-9a-zA-Z@+-]|$))|(?:xn--[\\-0-9a-z]+))))(?::([0-9]+))?(\\/(?:(?:[a-z\\u0400-\\u04FF0-9!\\*';:=\\+,\\.\\$\\/%#\\[\\]\\-\\u2013_~@\\|&\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\xFF\\u0100-\\u024F\\u0253\\u0254\\u0256\\u0257\\u0259\\u025B\\u0263\\u0268\\u026F\\u0272\\u0289\\u028B\\u02BB\\u0300-\\u036F\\u1E00-\\u1EFF]*(?:\\((?:[a-z\\u0400-\\u04FF0-9!\\*';:=\\+,\\.\\$\\/%#\\[\\]\\-\\u2013_~@\\|&\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\xFF\\u0100-\\u024F\\u0253\\u0254\\u0256\\u0257\\u0259\\u025B\\u0263\\u0268\\u026F\\u0272\\u0289\\u028B\\u02BB\\u0300-\\u036F\\u1E00-\\u1EFF]+|(?:[a-z\\u0400-\\u04FF0-9!\\*';:=\\+,\\.\\$\\/%#\\[\\]\\-\\u2013_~@\\|&\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\xFF\\u0100-\\u024F\\u0253\\u0254\\u0256\\u0257\\u0259\\u025B\\u0263\\u0268\\u026F\\u0272\\u0289\\u028B\\u02BB\\u0300-\\u036F\\u1E00-\\u1EFF]*\\([a-z\\u0400-\\u04FF0-9!\\*';:=\\+,\\.\\$\\/%#\\[\\]\\-\\u2013_~@\\|&\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\xFF\\u0100-\\u024F\\u0253\\u0254\\u0256\\u0257\\u0259\\u025B\\u0263\\u0268\\u026F\\u0272\\u0289\\u028B\\u02BB\\u0300-\\u036F\\u1E00-\\u1EFF]+\\)[a-z\\u0400-\\u04FF0-9!\\*';:=\\+,\\.\\$\\/%#\\[\\]\\-\\u2013_~@\\|&\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\xFF\\u0100-\\u024F\\u0253\\u0254\\u0256\\u0257\\u0259\\u025B\\u0263\\u0268\\u026F\\u0272\\u0289\\u028B\\u02BB\\u0300-\\u036F\\u1E00-\\u1EFF]*))\\)[a-z\\u0400-\\u04FF0-9!\\*';:=\\+,\\.\\$\\/%#\\[\\]\\-\\u2013_~@\\|&\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\xFF\\u0100-\\u024F\\u0253\\u0254\\u0256\\u0257\\u0259\\u025B\\u0263\\u0268\\u026F\\u0272\\u0289\\u028B\\u02BB\\u0300-\\u036F\\u1E00-\\u1EFF]*)*[\\+\\-a-z\\u0400-\\u04FF0-9=_#\\/\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\xFF\\u0100-\\u024F\\u0253\\u0254\\u0256\\u0257\\u0259\\u025B\\u0263\\u0268\\u026F\\u0272\\u0289\\u028B\\u02BB\\u0300-\\u036F\\u1E00-\\u1EFF]|(?:\\((?:[a-z\\u0400-\\u04FF0-9!\\*';:=\\+,\\.\\$\\/%#\\[\\]\\-\\u2013_~@\\|&\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\xFF\\u0100-\\u024F\\u0253\\u0254\\u0256\\u0257\\u0259\\u025B\\u0263\\u0268\\u026F\\u0272\\u0289\\u028B\\u02BB\\u0300-\\u036F\\u1E00-\\u1EFF]+|(?:[a-z\\u0400-\\u04FF0-9!\\*';:=\\+,\\.\\$\\/%#\\[\\]\\-\\u2013_~@\\|&\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\xFF\\u0100-\\u024F\\u0253\\u0254\\u0256\\u0257\\u0259\\u025B\\u0263\\u0268\\u026F\\u0272\\u0289\\u028B\\u02BB\\u0300-\\u036F\\u1E00-\\u1EFF]*\\([a-z\\u0400-\\u04FF0-9!\\*';:=\\+,\\.\\$\\/%#\\[\\]\\-\\u2013_~@\\|&\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\xFF\\u0100-\\u024F\\u0253\\u0254\\u0256\\u0257\\u0259\\u025B\\u0263\\u0268\\u026F\\u0272\\u0289\\u028B\\u02BB\\u0300-\\u036F\\u1E00-\\u1EFF]+\\)[a-z\\u0400-\\u04FF0-9!\\*';:=\\+,\\.\\$\\/%#\\[\\]\\-\\u2013_~@\\|&\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\xFF\\u0100-\\u024F\\u0253\\u0254\\u0256\\u0257\\u0259\\u025B\\u0263\\u0268\\u026F\\u0272\\u0289\\u028B\\u02BB\\u0300-\\u036F\\u1E00-\\u1EFF]*))\\)))|(?:@[a-z\\u0400-\\u04FF0-9!\\*';:=\\+,\\.\\$\\/%#\\[\\]\\-\\u2013_~@\\|&\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\xFF\\u0100-\\u024F\\u0253\\u0254\\u0256\\u0257\\u0259\\u025B\\u0263\\u0268\\u026F\\u0272\\u0289\\u028B\\u02BB\\u0300-\\u036F\\u1E00-\\u1EFF]+\\/))*)?(\\?[a-z0-9!?\\*'@\\(\\);:&=\\+\\$\\/%#\\[\\]\\-_\\.,~|]*[a-z0-9\\-_&=#\\/])?))",No="gi",An={source:zo,flags:No},Ve=Ma("drafts-db","drafts-store"),Bo={set:(n,t)=>Oa(n,t,Ve),get:n=>za(n,Ve),getMany:n=>Na(n,Ve),del:n=>Ba(n,Ve),delMany:n=>ja(n,Ve),clear:()=>Va(Ve),keys:()=>Ua(Ve)},Cn={drafts:Bo},We={public:"earth",unlisted:"group",private:"lock",direct:"message"};function jo({poll:n,lang:t,readOnly:a,refresh:o=()=>{},votePoll:r=()=>{}}){const[s,c]=W("default"),{expired:l,expiresAt:f,id:p,multiple:d,options:m,ownVotes:u,voted:v,votersCount:y,votesCount:g,emojis:b}=n,x=!!f&&new Date(f),A=y||g;let _=0;A<=1e3?_=0:A<=1e4?_=1:A<=1e5&&(_=2);const[L,S]=W(!1),O=m.every(D=>D.votesCount!==null);return e("div",{lang:t,dir:"auto",class:`poll ${a?"read-only":""} ${s==="loading"?"loading":""}`,children:[L&&O||v||l?e(H,{children:[e("div",{class:"poll-options",children:m.map((D,G)=>{const{title:q,votesCount:j}=D,N=A?(j/A*100).toFixed(_):0,R=j>0&&j===Math.max(...m.map(oe=>oe.votesCount));return e("div",{class:`poll-option poll-result ${R?"poll-option-leading":""}`,style:{"--percentage":`${N}%`},children:[e("div",{class:"poll-option-title",children:[e("span",{children:e(st,{text:q,emojis:b})}),v&&u.includes(G)&&e(H,{children:[" ",e(E,{icon:"check-circle"})]})]}),e("div",{class:"poll-option-votes",title:`${j} vote${j===1?"":"s"}`,children:[N,"%"]})]},`${G}-${q}-${j}`)})}),!l&&!v&&e("button",{class:"poll-vote-button plain2",disabled:s==="loading",onClick:D=>{D.preventDefault(),S(!1)},children:[e(E,{icon:"arrow-left",size:"s"})," Hide results"]})]}):e("form",{onSubmit:async D=>{D.preventDefault();const G=D.target,q=new FormData(G),j=[];q.forEach((N,R)=>{R==="poll"&&j.push(N)}),j.length&&(c("loading"),await r(j),c("default"))},children:[e("div",{class:"poll-options",children:m.map((D,G)=>{const{title:q}=D;return e("div",{class:"poll-option",children:e("label",{class:"poll-label",children:[e("input",{type:d?"checkbox":"radio",name:"poll",value:G,disabled:s==="loading",readOnly:a}),e("span",{class:"poll-option-title",children:e(st,{text:q,emojis:b})})]})})})}),!a&&e("button",{class:"poll-vote-button",type:"submit",disabled:s==="loading",children:"Vote"})]}),e("p",{class:"poll-meta",children:[!l&&!a&&e("button",{type:"button",class:"plain small",disabled:s==="loading",style:{marginLeft:-8},onClick:D=>{D.preventDefault(),c("loading"),(async()=>(await o(),c("default")))()},title:"Refresh",children:e(E,{icon:"refresh",alt:"Refresh"})}),!v&&!l&&!a&&O&&e("button",{type:"button",class:"plain small",disabled:s==="loading",onClick:D=>{D.preventDefault(),S(!L)},title:L?"Hide results":"Show results",children:[e(E,{icon:L?"eye-open":"eye-close",alt:L?"Hide results":"Show results"})," "]}),!l&&!a&&" ",e("span",{title:g,children:Ge(g)})," vote",g===1?"":"s",!!y&&y!==g&&e(H,{children:[" ","• ",e("span",{title:y,children:Ge(y)})," ","voter",y===1?"":"s"]})," ","• ",l?"Ended":"Ending"," ",!!x&&e(Lt,{datetime:x})]})," "]})}const Fn=document.createElement("div");function In(n){return n?(Fn.innerHTML=n,Fn.innerText.length):0}function ta(n){const{pathname:t}=new URL(n);return/^\/.*\/\d+$/i.test(t)||/^\/@[^/]+\/(statuses|posts)\/\w+\/?$/i.test(t)||/^\/notes\/[a-z0-9]+$/i.test(t)||/^\/(notice|objects)\/[a-z0-9-]+$/i.test(t)}const Vo=document.documentElement,yt=getComputedStyle(Vo),Uo=8;let na=[0,0,0,0];function aa(){const n=yt.getPropertyValue("--sai-top"),t=yt.getPropertyValue("--sai-right"),a=yt.getPropertyValue("--sai-bottom"),o=yt.getPropertyValue("--sai-left");na=[Math.max(0,parseInt(n,10)),Math.max(0,parseInt(t,10)),Math.max(0,parseInt(a,10)),Math.max(0,parseInt(o,10))]}requestAnimationFrame(aa);function Ho(n=[]){return na.map((a,o)=>(a||Uo)+(n[o]||0)).join(" ")}CSS.supports("top: env(safe-area-inset-top)")&&window.addEventListener("resize",aa,{passive:!0});function Ko(n){const{spoilerText:t,content:a,poll:o,mediaAttachments:r}=n;let s="";return t!=null&&t.trim()?s+=t:s+=nn(a),s=s.trim(),o&&(s+=" 📊"),r!=null&&r.length&&(s+=" "+r.map(c=>({image:"🖼️",gifv:"🎞️",video:"📹",audio:"🎵",unknown:""})[c.type]||"").join("")),s}function xt({className:n="truncated"}={}){const t=Q(),a=Ha(({height:o})=>{if(t.current){const{scrollHeight:r}=t.current;let s=r>o;if(s){const{height:c,maxHeight:l}=getComputedStyle(t.current),f=parseInt(l||c,10);s=r>f}t.current.classList.toggle(n,s)}},300);return Ka({ref:t,box:"border-box",onResize:a}),t}const qo=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),Wo="ALT",Xt=n=>{const{alt:t,lang:a,index:o,...r}=n;return!t||!t.trim()?null:e("button",{type:"button",class:"alt-badge clickable",...r,onClick:s=>{s.stopPropagation(),s.preventDefault(),T.showMediaAlt={alt:t,lang:a}},title:"Media description",children:[Wo,!!o&&e("sup",{children:o})]})},Go=140,oa=Ze(n=>n!=null&&n.length?n.length>Go||/[\n\r].*[\n\r]/.test(n.trim()):!1);function Jo({media:n,to:t,lang:a,showOriginal:o,autoAnimate:r,showCaption:s,altIndex:c,onClick:l=()=>{}}){const{blurhash:f,description:p,meta:d,previewRemoteUrl:m,previewUrl:u,remoteUrl:v,url:y,type:g}=n,{original:b={},small:x,focus:A}=d||{},_=o?b==null?void 0:b.width:x==null?void 0:x.width,L=o?b==null?void 0:b.height:x==null?void 0:x.height,S=o?y:u||y,O=o?v:m||v,D=_>=L?"landscape":"portrait",G=f?qa(f):null,q=Q();let j;if(A){const P=(A.x+1)/2*100,J=(1-A.y)/2*100;j=`${P.toFixed(0)}% ${J.toFixed(0)}%`}const N=Q(),R=Kn(({x:P,y:J,scale:ge})=>{const{current:ie}=N;if(ie){const we=Wa({x:P,y:J,scale:ge});ge===1?ie.style.removeProperty("transform"):ie.style.setProperty("transform",we),ie.closest(".media-zoom").style.touchAction=ge<=1.01?"pan-x":""}},[]),[oe,ye]=W(!1),ee={enabled:oe,draggableUnZoomed:!1,inertiaFriction:.9,doubleTapZoomOutOnMaxScale:!0,containerProps:{className:"media-zoom",style:{overflow:"visible"}},onUpdate:R},z=Re(()=>t?P=>e(lt,{to:t,...P}):"div",[t]),te=g==="unknown"&&/\.(mp4|m4a|m4p|m4b|m4r|m4v|mov|webm)$/i.test(O),ne=g==="image"||g==="unknown"&&u&&!te,_e=Q(),[V,ke]=W(!1);Qt(()=>{if(!ne||!o||!_e.current)return;const{offsetWidth:P,offsetHeight:J}=_e.current,ge=_<P&&L<J;ge&&ke(ge)},[_,L]);const se=window.innerHeight*(D==="portrait"?.45:.33),ue=D==="portrait"?0:160,de=_&&L?{"--width":`${_}px`,"--height":`${L}px`,"--aspectWidth":`${_/L*Math.max(ue,se)}px`,aspectRatio:`${_} / ${L}`}:{},Ae=oa(p),Z=!!s&&!o&&!!p&&!Ae,ce=Z?P=>{const{children:J,...ge}=P;return e("figure",{...ge,children:[J,e("figcaption",{class:"media-caption",lang:a,dir:"auto",onClick:ie=>{ie.preventDefault(),ie.stopPropagation(),T.showMediaAlt={alt:p,lang:a}},children:p})]})}:H;if(ne)return ee.containerProps.style.display="inherit",Qt(()=>{qo&&o&&(async()=>{try{await fetch(S,{mode:"no-cors"}),N.current.src=S}catch{}})()},[S]),e(ce,{children:e(z,{ref:_e,class:"media media-image",onClick:l,"data-orientation":D,"data-has-alt":!Z,style:o?{backgroundImage:`url(${u})`,backgroundSize:V?`${_}px ${L}px`:void 0}:de,children:o?e(_n,{...ee,children:e("img",{ref:N,src:S,alt:p,width:_,height:L,"data-orientation":D,loading:"eager",decoding:"sync",onLoad:P=>{P.target.closest(".media-image").style.backgroundImage="",P.target.closest(".media-zoom").style.display="",ye(!0)},onError:P=>{const{src:J}=P.target;J===S&&(P.target.src=O)}})}):e(H,{children:[e("img",{src:S,alt:Z?"":p,width:_,height:L,"data-orientation":D,loading:"lazy",style:{backgroundColor:G&&`rgb(${G.join(",")})`,backgroundPosition:j||"center","--anim-duration":`${Math.min(Math.max(Math.max(_,L)/100,5),120)}s`},onLoad:P=>{P.target.closest(".media-image").style.backgroundImage="",P.target.dataset.loaded=!0},onError:P=>{const{src:J}=P.target;J===S&&(P.target.src=O)}}),!Z&&e(Xt,{alt:p,lang:a,index:c})]})})});if(g==="gifv"||g==="video"||te){const P=b.duration<31,J=g==="gifv"&&P,ge=b.duration<61,ie=Dn(b.duration),we=!o&&!r&&J,Ce=!o&&r&&J,ve=`
    <video
      src="${y}"
      poster="${u}"
      width="${_}"
      height="${L}"
      data-orientation="${D}"
      preload="auto"
      autoplay
      muted="${J}"
      ${J?"":"controls"}
      playsinline
      loop="${ge}"
      ${J?'ondblclick="this.paused ? this.play() : this.pause()"':""}
    ></video>
  `;return e(ce,{children:e(z,{class:`media media-${J?"gif":"video"} ${Ce?"media-contain":""}`,"data-orientation":D,"data-formatted-duration":ie,"data-label":J&&!o&&!Ce?"GIF":"","data-has-alt":!Z,style:!o&&de,onClick:he=>{if(we)try{q.current.pause()}catch{}l(he)},onMouseEnter:()=>{if(we)try{q.current.play()}catch{}},onMouseLeave:()=>{if(we)try{q.current.pause()}catch{}},onFocus:()=>{if(we)try{q.current.play()}catch{}},onBlur:()=>{if(we)try{q.current.pause()}catch{}},children:[o||Ce?J&&o?e(_n,{...ee,enabled:!0,children:e("div",{ref:N,dangerouslySetInnerHTML:{__html:ve}})}):e("div",{class:"video-container",dangerouslySetInnerHTML:{__html:ve}}):J?e("video",{ref:q,src:y,poster:u,width:_,height:L,"data-orientation":D,preload:"auto",playsinline:!0,loop:!0,muted:!0}):e(H,{children:[e("img",{src:u,alt:Z?"":p,width:_,height:L,"data-orientation":D,loading:"lazy"}),e("div",{class:"media-play",children:e(E,{icon:"play",size:"xl"})})]}),!o&&!Z&&e(Xt,{alt:p,lang:a,index:c})]})})}else if(g==="audio"){const P=Dn(b.duration);return e(ce,{children:e(z,{class:"media media-audio","data-formatted-duration":P,"data-has-alt":!Z,onClick:l,style:!o&&de,children:[o?e("audio",{src:v||y,preload:"none",controls:!0,autoplay:!0}):u?e("img",{src:u,alt:Z?"":p,width:_,height:L,"data-orientation":D,loading:"lazy"}):null,!o&&e(H,{children:[e("div",{class:"media-play",children:e(E,{icon:"play",size:"xl"})}),!Z&&e(Xt,{alt:p,lang:a,index:c})]})]})})}}function $n(n){return e(Ga,{children:({ref:t,closeMenu:a})=>e(lt,{...n,ref:t,onClick:({detail:o})=>a(o===0?"Enter":void 0)})})}const Yo=140,Zo=Hn({limit:1,interval:1e3});function Xo(n,t){return t.v1.accounts.$select(n).fetch()}const Qo=It(Xo),ot={public:"Public",unlisted:"Unlisted",private:"Followers only",direct:"Private mention"};function Ye({statusID:n,status:t,instance:a,withinContext:o,size:r="m",skeleton:s,readOnly:c,contentTextWeight:l,enableTranslate:f,forceTranslate:p,previewMode:d,allowFilters:m,onMediaClick:u,quoted:v,onStatusLinkClick:y=()=>{}}){var vn,bn,yn;if(s)return e("div",{class:"status skeleton",children:[e(He,{size:"xxl"}),e("div",{class:"container",children:[e("div",{class:"meta",children:"███ ████████"}),e("div",{class:"content-container",children:e("div",{class:"content",children:e("p",{children:"████ ████████"})})})]})]});const{masto:g,instance:b,authenticated:x}=Ne({instance:a}),{instance:A}=Ne(),_=b===A;let L=Be(n,b);const S=ct(T);if(t||(t=S.statuses[L]||S.statuses[n],L=Be(t==null?void 0:t.id,b)),!t)return null;const{account:{acct:O,avatar:D,avatarStatic:G,id:q,url:j,displayName:N,username:R,emojis:oe,bot:ye,group:ee},id:z,repliesCount:te,reblogged:ne,reblogsCount:_e,favourited:V,favouritesCount:ke,bookmarked:se,poll:ue,muted:de,sensitive:Ae,spoilerText:Z,visibility:ce,language:P,editedAt:J,filtered:ge,card:ie,createdAt:we,inReplyToId:Ce,inReplyToAccountId:ve,content:he,mentions:Le,mediaAttachments:pe,reblog:Se,uri:$t,url:k,emojis:C,_deleted:F,_pinned:I,_filtered:Y}=t,U=h=>{h.shiftKey};if(m&&r!=="l"&&Y)return e(si,{status:t,filterInfo:Y,instance:b,containerProps:{onMouseEnter:U}});const B=new Date(we),K=new Date(J),ae=Re(()=>M.session.get("currentAccount"),[]),fe=Re(()=>ae&&ae===q,[q,ae]);let De=Le==null?void 0:Le.find(h=>h.id===ve);!De&&ve===z&&(De={url:j,username:R,displayName:N});const[be,je]=W(De);if(!o&&!be&&ve){const h=T.accounts[ve];h?je(h):Qo(ve,g).then($=>{je($),T.accounts[$.id]=$}).catch($=>{})}const ut=ve===ae||(Le==null?void 0:Le.find(h=>h.id===ae)),Xe=Re(()=>!!(M.account.get("preferences")||{})["reading:expand:spoilers"],[]),Ie=d||Xe||!!S.spoilers[z]||!1;if(Se)return ee?e("div",{class:"status-group",onMouseEnter:U,children:[e("div",{class:"status-pre-meta",children:[e(E,{icon:"group",size:"l",alt:"Group"})," ",e(at,{account:t.account,instance:b,showAvatar:!0})]}),e(Ye,{status:n?null:Se,statusID:n?Se.id:null,instance:b,size:r,contentTextWeight:l})]}):e("div",{class:"status-reblog",onMouseEnter:U,children:[e("div",{class:"status-pre-meta",children:[e(E,{icon:"rocket",size:"l"})," ",e(at,{account:t.account,instance:b,showAvatar:!0})," ",e("span",{children:"boosted"})]}),e(Ye,{status:n?null:Se,statusID:n?Se.id:null,instance:b,size:r,contentTextWeight:l})]});const re=r==="l",[St,sa]=W(p),rn=Yn(!0),ca=S.settings.contentTranslationHideLanguages||[],{contentTranslation:Dt,contentTranslationAutoInline:sn}=S.settings;Dt||(f=!1);const cn=Re(()=>{if(!Dt||!sn||c||o&&!re||d||Z||Ae||ue||ie||pe!=null&&pe.length)return!1;const h=In(he);return h>0&&h<=Yo},[Dt,sn,c,o,re,d,Z,Ae,ue,ie,pe,he]),[Rt,dt]=W(!1),[la,Pt]=W(!1),ua=xt(),da=xt(),ma=xt(),ln="Read more →",mt=Q(null),Qe="Sorry, your current logged-in instance can't interact with this post from another instance.",un=Kn(()=>Math.max(Math.round((Z.length+In(he))/140)||1,1),[Z,he]),dn=At(B),mn=J&&At(K);let et=x&&ce!=="direct"&&ce!=="private";ce==="private"&&fe&&(et=!0);const Mt=()=>{if(!_||!x)return alert(Qe);T.showCompose={replyToStatus:t}},Ot=Re(()=>pe.some(h=>{var $,X;return!((X=($=h.description)==null?void 0:$.trim)!=null&&X.call($))}),[pe]),xi=async()=>{if(!_||!x)return alert(Qe),!1;try{if(!ne){let h="Boost this post?";if(Ot&&(h+=`

⚠️ Some media have no descriptions.`),!confirm(h))return!1}if(T.statuses[L]={...t,reblogged:!ne,reblogsCount:_e+(ne?-1:1)},ne){const h=await g.v1.statuses.$select(z).unreblog();return Te(h,b),!0}else{const h=await g.v1.statuses.$select(z).reblog();return Te(h,b),!0}}catch{return T.statuses[L]=t,!1}},zt=async()=>{if(!_||!x)return alert(Qe),!1;try{if(T.statuses[L]={...t,reblogged:!ne,reblogsCount:_e+(ne?-1:1)},ne){const h=await g.v1.statuses.$select(z).unreblog();return Te(h,b),!0}else{const h=await g.v1.statuses.$select(z).reblog();return Te(h,b),!0}}catch{return T.statuses[L]=t,!1}},Nt=async()=>{if(!_||!x)return alert(Qe);try{if(T.statuses[L]={...t,favourited:!V,favouritesCount:ke+(V?-1:1)},V){const h=await g.v1.statuses.$select(z).unfavourite();Te(h,b)}else{const h=await g.v1.statuses.$select(z).favourite();Te(h,b)}}catch{T.statuses[L]=t}},Bt=async()=>{if(!_||!x)return alert(Qe);try{if(T.statuses[L]={...t,bookmarked:!se},se){const h=await g.v1.statuses.$select(z).unbookmark();Te(h,b)}else{const h=await g.v1.statuses.$select(z).bookmark();Te(h,b)}}catch{T.statuses[L]=t}},hn=!!P&&P!==rn&&!Tt([P],[rn])&&!ca.find(h=>P===h||Tt([P],[h])),Ei=Q(),pn=e(H,{children:[!re&&e(H,{children:[e(Ja,{children:[e("span",{class:"ib",children:[e(E,{icon:We[ce],size:"s"})," ",e("span",{children:ot[ce]})]})," ",e("span",{class:"ib",children:[te>0&&e("span",{children:[e(E,{icon:"reply",alt:"Replies",size:"s"})," ",e("span",{children:Ge(te)})]})," ",_e>0&&e("span",{children:[e(E,{icon:"rocket",alt:"Boosts",size:"s"})," ",e("span",{children:Ge(_e)})]})," ",ke>0&&e("span",{children:[e(E,{icon:"heart",alt:"Likes",size:"s"})," ",e("span",{children:Ge(ke)})]})]}),e("br",{}),dn]}),e($n,{to:b?`/${b}/s/${z}`:`/s/${z}`,onClick:h=>{y(h,t)},children:[e(E,{icon:"arrow-right"}),e("span",{children:["View post by @",R||O]})]})]}),!!J&&e(Ee,{onClick:()=>{dt(z)},children:[e(E,{icon:"history"}),e("span",{children:["Show Edit History",e("br",{}),e("small",{class:"more-insignificant",children:["Edited: ",mn]})]})]}),(!re||!!J)&&e(Ut,{}),re&&e(Ee,{onClick:()=>Pt(!0),children:[e(E,{icon:"react"}),e("span",{children:["Boosted/Liked by",e("span",{class:"more-insignificant",children:"…"})]})]}),!re&&_&&e(H,{children:[e("div",{class:"menu-horizontal",children:[e(qt,{subMenu:!0,confirmLabel:e(H,{children:[e(E,{icon:"rocket"}),e("span",{children:ne?"Unboost?":"Boost to everyone?"})]}),menuFooter:Ot&&!ne&&e("div",{class:"footer",children:[e(E,{icon:"alert"}),"Some media have no descriptions."]}),disabled:!et,onClick:async()=>{try{const h=await zt();!re&&h&&xe(ne?`Unboosted @${R||O}'s post`:`Boosted @${R||O}'s post`)}catch{}},children:[e(E,{icon:"rocket",style:{color:ne&&"var(--reblog-color)"}}),e("span",{children:ne?"Unboost":"Boost…"})]}),e(Ee,{onClick:()=>{try{Nt(),re||xe(V?`Unliked @${R||O}'s post`:`Liked @${R||O}'s post`)}catch{}},children:[e(E,{icon:"heart",style:{color:V&&"var(--favourite-color)"}}),e("span",{children:V?"Unlike":"Like"})]})]}),e("div",{class:"menu-horizontal",children:[e(Ee,{onClick:Mt,children:[e(E,{icon:"reply"}),e("span",{children:"Reply"})]}),e(Ee,{onClick:()=>{try{Bt(),re||xe(se?`Unbookmarked @${R||O}'s post`:`Bookmarked @${R||O}'s post`)}catch{}},children:[e(E,{icon:"bookmark",style:{color:se&&"var(--link-color)"}}),e("span",{children:se?"Unbookmark":"Bookmark"})]})]})]}),f?e(Ee,{disabled:St,onClick:()=>{sa(!0)},children:[e(E,{icon:"translate"}),e("span",{children:"Translate"})]}):(!P||hn)&&e($n,{to:`${b?`/${b}`:""}/s/${z}?translate=1`,children:[e(E,{icon:"translate"}),e("span",{children:"Translate"})]}),(!re&&_||f)&&e(Ut,{}),e(Ee,{href:k,target:"_blank",children:[e(E,{icon:"external"}),e("small",{class:"menu-double-lines",children:ri(k)})]}),e("div",{class:"menu-horizontal",children:[e(Ee,{onClick:()=>{try{navigator.clipboard.writeText(k),xe("Link copied")}catch{xe("Unable to copy link")}},children:[e(E,{icon:"link"}),e("span",{children:"Copy"})]}),(navigator==null?void 0:navigator.share)&&((vn=navigator==null?void 0:navigator.canShare)==null?void 0:vn.call(navigator,{url:k}))&&e(Ee,{onClick:()=>{try{navigator.share({url:k})}catch{alert("Sharing doesn't seem to work.")}},children:[e(E,{icon:"share"}),e("span",{children:"Share…"})]})]}),(fe||ut)&&e(Ut,{}),(fe||ut)&&e(Ee,{onClick:async()=>{try{const h=await g.v1.statuses.$select(z)[de?"unmute":"mute"]();Te(h,b),xe(de?"Conversation unmuted":"Conversation muted")}catch{xe(de?"Unable to unmute conversation":"Unable to mute conversation")}},children:de?e(H,{children:[e(E,{icon:"unmute"}),e("span",{children:"Unmute conversation"})]}):e(H,{children:[e(E,{icon:"mute"}),e("span",{children:"Mute conversation"})]})}),fe&&e("div",{class:"menu-horizontal",children:[e(Ee,{onClick:()=>{T.showCompose={editStatus:t}},children:[e(E,{icon:"pencil"}),e("span",{children:"Edit"})]}),re&&e(qt,{subMenu:!0,confirmLabel:e(H,{children:[e(E,{icon:"trash"}),e("span",{children:"Delete this post?"})]}),menuItemClassName:"danger",onClick:()=>{(async()=>{try{await g.v1.statuses.$select(z).remove();const h=Jn(z,b);h._deleted=!0,xe("Deleted")}catch{xe("Unable to delete")}})()},children:[e(E,{icon:"trash"}),e("span",{children:"Delete…"})]})]})]}),fn=Q(),[gn,ht]=W(!1),[pt,jt]=W({}),ha=window.ontouchstart!==void 0&&/iPad|iPhone|iPod/.test(navigator.userAgent),pa=qn(ha?h=>{var bt;if(h.pointerType==="mouse")return;const{clientX:$,clientY:X}=((bt=h.touches)==null?void 0:bt[0])||h,me=h.target.closest("a");me&&/^https?:\/\//.test(me.getAttribute("href"))||(h.preventDefault(),jt({anchorPoint:{x:$,y:X},direction:"right"}),ht(!0))}:null,{threshold:600,captureEvent:!0,detect:"touch",cancelOnMovement:2}),Vt=r!=="l"&&!d&&!F&&!v,ft=!c&&!d,fa=Ue("r",Mt,{enabled:ft}),ga=Ue("f, l",()=>{try{Nt(),re||xe(V?`Unliked @${R||O}'s post`:`Liked @${R||O}'s post`)}catch{}},{enabled:ft}),va=Ue("d",()=>{try{Bt(),re||xe(se?`Unbookmarked @${R||O}'s post`:`Bookmarked @${R||O}'s post`)}catch{}},{enabled:ft}),ba=Ue("shift+b",()=>{(async()=>{try{const h=await zt();!re&&h&&xe(ne?`Unboosted @${R||O}'s post`:`Boosted @${R||O}'s post`)}catch{}})()},{enabled:ft&&et}),gt=pe.slice(0,re?void 0:4),vt=pe.length>1&&gt.some(h=>!!h.description&&!oa(h.description)),ya=Re(()=>{if(!vt)return null;const h=[];return gt.forEach(($,X)=>{if(!$.description)return;const me=h.findIndex(bt=>bt.media.description===$.description);me===-1?h.push({media:$,indices:[X]}):h[me].indices.push(X)}),h.map(({media:$,indices:X})=>e("div",{"data-caption-index":X.map(me=>me+1).join(" "),onClick:me=>{me.preventDefault(),me.stopPropagation(),T.showMediaAlt={alt:$.description,lang:P}},title:$.description,children:[e("sup",{children:X.map(me=>me+1).join(" ")})," ",$.description]},$.id))},[vt,gt,P]);return e("article",{ref:h=>{var X;mt.current=h;const $=((X=h==null?void 0:h.closest)==null?void 0:X.call(h,".timeline-item, .timeline-item-alt, .status-link, .status-focus"))||h;fa.current=$,ga.current=$,va.current=$,ba.current=$},tabindex:"-1",class:`status ${!o&&Ce&&be?"status-reply-to":""} visibility-${ce} ${I?"status-pinned":""} ${{s:"small",m:"medium",l:"large"}[r]} ${F?"status-deleted":""} ${v?"status-card":""}`,onMouseEnter:U,onContextMenu:h=>{if(!Vt||h.metaKey)return;const $=h.target.closest("a");$&&/^https?:\/\//.test($.getAttribute("href"))||(h.preventDefault(),jt({anchorPoint:{x:h.clientX,y:h.clientY},direction:"right"}),ht(!0))},...Vt?pa():{},children:[Vt&&e(Ya,{ref:fn,state:gn?"open":void 0,...pt,onClose:h=>{var $,X,me;ht(!1),(h==null?void 0:h.reason)==="click"&&((me=(X=($=mt.current)==null?void 0:$.closest("[tabindex]"))==null?void 0:X.focus)==null||me.call(X))},portal:{target:document.body},containerProps:{style:{zIndex:1001},onClick:()=>{var h,$;($=(h=fn.current)==null?void 0:h.closeMenu)==null||$.call(h)}},overflow:"auto",boundingBoxPadding:Ho(),unmountOnClose:!0,children:pn}),r!=="l"&&e("div",{class:"status-badge",children:[ne&&e(E,{class:"reblog",icon:"rocket",size:"s"}),V&&e(E,{class:"favourite",icon:"heart",size:"s"}),se&&e(E,{class:"bookmark",icon:"bookmark",size:"s"}),I&&e(E,{class:"pin",icon:"pin",size:"s"})]}),r!=="s"&&e("a",{href:j,tabindex:"-1",title:`@${O}`,onClick:h=>{h.preventDefault(),h.stopPropagation(),T.showAccount={account:t.account,instance:b}},children:e(He,{url:G||D,size:"xxl",squircle:ye})}),e("div",{class:"container",children:[e("div",{class:"meta",children:[e("span",{class:"meta-name",children:e(at,{account:t.account,instance:b,showAvatar:r==="s",showAcct:re})})," ",r!=="l"&&(F?e("span",{class:"status-deleted-tag",children:"Deleted"}):k&&!d&&!v?e(lt,{to:b?`/${b}/s/${z}`:`/s/${z}`,onClick:h=>{h.preventDefault(),h.stopPropagation(),y==null||y(h,t),jt({anchorRef:{current:h.currentTarget},align:"end",direction:"bottom",gap:4}),ht(!0)},class:`time ${gn&&(pt!=null&&pt.anchorRef)?"is-open":""}`,children:[e(E,{icon:We[ce],alt:ot[ce],size:"s"})," ",e(Lt,{datetime:B,format:"micro"})]}):e("span",{class:"time",children:[e(E,{icon:We[ce],alt:ot[ce],size:"s"})," ",e(Lt,{datetime:B,format:"micro"})]}))]}),ce==="direct"&&e(H,{children:[e("div",{class:"status-direct-badge",children:"Private mention"})," "]}),!o&&e(H,{children:Ce&&ve===((bn=t.account)==null?void 0:bn.id)||S.statusThreadNumber[L]?e("div",{class:"status-thread-badge",children:[e(E,{icon:"thread",size:"s"}),"Thread",S.statusThreadNumber[L]?` ${S.statusThreadNumber[L]}/X`:""]}):!!Ce&&!!be&&(!!Z||!Le.find(h=>h.id===ve))&&e("div",{class:"status-reply-badge",children:[e(E,{icon:"reply"})," ",e(at,{account:be,instance:b,short:!0})]})}),e("div",{class:`content-container ${Z||Ae?"has-spoiler":""} ${Ie?"show-spoiler":""}`,"data-content-text-weight":l?un():null,style:(re||l)&&{"--content-text-weight":un()},children:[!!Z&&e(H,{children:[e("div",{class:"content spoiler-content",lang:P,dir:"auto",ref:ua,"data-read-more":ln,children:e("p",{children:e(st,{text:Z,emojis:C})})}),e("button",{class:`light spoiler ${Ie?"spoiling":""}`,type:"button",disabled:Xe,onClick:h=>{h.preventDefault(),h.stopPropagation(),Ie?delete T.spoilers[z]:T.spoilers[z]=!0},children:[e(E,{icon:Ie?"eye-open":"eye-close"})," ",Xe?"Content warning":Ie?"Show less":"Show more"]})]}),e("div",{class:"content",ref:da,"data-read-more":ln,children:[e("div",{lang:P,dir:"auto",class:"inner-content",onClick:Fo({mentions:Le,instance:b,previewMode:d,statusURL:k}),dangerouslySetInnerHTML:{__html:tn(he,{emojis:C,postEnhanceDOM:h=>{h.querySelectorAll('a.u-url[target="_blank"]').forEach($=>{/http/i.test($.innerText.trim())||$.removeAttribute("target")}),!d&&Array.from(h.querySelectorAll("a[href]:not(.u-url):not(.mention):not(.hashtag)")).filter($=>{const X=$.href;return!(X===t.url||X===t.uri)&&ta(X)}).forEach(($,X)=>{ia(A,$.href).then(me=>{me&&($.removeAttribute("target"),L&&(Array.isArray(T.statusQuotes[L])||(T.statusQuotes[L]=[]),T.statusQuotes[L][X]||T.statusQuotes[L].splice(X,0,me)))})})}})}}),e(ci,{id:z,instance:b,level:v})]}),!!ue&&e(jo,{lang:P,poll:ue,readOnly:c||!_||!x,onUpdate:h=>{T.statuses[L].poll=h},refresh:()=>g.v1.polls.$select(ue.id).fetch().then(h=>{T.statuses[L].poll=h}).catch(h=>{}),votePoll:h=>g.v1.polls.$select(ue.id).votes.create({choices:h}).then($=>{T.statuses[L].poll=$}).catch($=>{})}),((f||cn)&&!!he.trim()&&!!nn(an(he,C))&&hn||St)&&e(Oo,{forceTranslate:St||cn,mini:!re&&!o,sourceLanguage:P,text:(Z?`${Z}

`:"")+nn(he)+((yn=ue==null?void 0:ue.options)!=null&&yn.length?`

Poll:
${ue.options.map(h=>`- ${h.title}${h.votesCount>=0?` (${h.votesCount})`:""}`).join(`
`)}`:"")}),!Z&&Ae&&!!pe.length&&e("button",{class:`plain spoiler ${Ie?"spoiling":""}`,type:"button",onClick:h=>{h.preventDefault(),h.stopPropagation(),Ie?delete T.spoilers[z]:T.spoilers[z]=!0},children:[e(E,{icon:Ie?"eye-open":"eye-close"})," Sensitive content"]}),!!pe.length&&e(ei,{lang:P,enabled:vt,captionChildren:ya,children:e("div",{ref:ma,class:`media-container media-eq${pe.length} ${pe.length>2?"media-gt2":""} ${pe.length>4?"media-gt4":""}`,children:gt.map((h,$)=>e(Jo,{media:h,autoAnimate:re,showCaption:pe.length===1,lang:P,altIndex:vt&&!!h.description&&$+1,to:`/${b}/s/${z}?${o?"media":"media-only"}=${$+1}`,onClick:u?X=>{u(X,$,h,t)}:void 0},h.id))})}),!!ie&&(ie==null?void 0:ie.url)!==t.url&&(ie==null?void 0:ie.url)!==t.uri&&/^https/i.test(ie==null?void 0:ie.url)&&!Ae&&!Z&&!ue&&!pe.length&&!S.statusQuotes[L]&&e(ti,{card:ie,instance:A})]}),re&&e(H,{children:[e("div",{class:"extra-meta",children:F?e("span",{class:"status-deleted-tag",children:"Deleted"}):e(H,{children:[e(E,{icon:We[ce],alt:ot[ce]})," ",e("a",{href:k,target:"_blank",rel:"noopener noreferrer",children:e("time",{class:"created",datetime:B.toISOString(),children:dn})}),J&&e(H,{children:[" ","• ",e(E,{icon:"pencil",alt:"Edited"})," ",e("time",{class:"edited",datetime:K.toISOString(),onClick:()=>{dt(z)},children:mn})]})]})}),e("div",{class:`actions ${F?"disabled":""}`,children:[e("div",{class:"action has-count",children:e(_t,{title:"Reply",alt:"Comments",class:"reply-button",icon:"comment",count:te,onClick:Mt})}),e(qt,{disabled:!et,onClick:zt,confirmLabel:e(H,{children:[e(E,{icon:"rocket"}),e("span",{children:ne?"Unboost?":"Boost to everyone?"})]}),menuFooter:Ot&&!ne&&e("div",{class:"footer",children:[e(E,{icon:"alert"}),"Some media have no descriptions."]}),children:e("div",{class:"action has-count",children:e(_t,{checked:ne,title:["Boost","Unboost"],alt:["Boost","Boosted"],class:"reblog-button",icon:"rocket",count:_e,disabled:!et})})}),e("div",{class:"action has-count",children:e(_t,{checked:V,title:["Like","Unlike"],alt:["Like","Liked"],class:"favourite-button",icon:"heart",count:ke,onClick:Nt})}),e("div",{class:"action",children:e(_t,{checked:se,title:["Bookmark","Unbookmark"],alt:["Bookmark","Bookmarked"],class:"bookmark-button",icon:"bookmark",onClick:Bt})}),e(Un,{portal:{target:document.querySelector(".status-deck")||document.body},align:"end",gap:4,overflow:"auto",viewScroll:"close",boundingBoxPadding:"8 8 8 8",menuButton:e("div",{class:"action",children:e("button",{type:"button",title:"More",class:"plain more-button",children:e(E,{icon:"more",size:"l",alt:"More"})})}),children:pn})]})]})]}),!!Rt&&e(rt,{onClick:h=>{var $;h.target===h.currentTarget&&(dt(!1),($=mt.current)==null||$.focus())},children:e(ni,{statusID:Rt,instance:b,fetchStatusHistory:()=>g.v1.statuses.$select(Rt).history.list(),onClose:()=>{var h;dt(!1),(h=mt.current)==null||h.focus()}})}),la&&e(rt,{class:"light",onClick:h=>{h.target===h.currentTarget&&Pt(!1)},children:e(ai,{statusID:z,instance:b,onClose:()=>Pt(!1)})})]})}function ei(n){const{enabled:t,children:a,lang:o,captionChildren:r}=n;return!t||!r?a:e("figure",{class:"media-figure-multiple",children:[a,e("figcaption",{lang:o,dir:"auto",children:r})]})}function ti({card:n,instance:t}){var q;const a=ct(T),{blurhash:o,title:r,description:s,html:c,providerName:l,providerUrl:f,authorName:p,authorUrl:d,width:m,height:u,image:v,imageDescription:y,url:g,type:b,embedUrl:x,language:A,publishedAt:_}=n,L=r||l||p,O=m/u>=1.2?"large":"",[D,G]=W(null);if(le(()=>{L&&v&&ta(g)&&ia(t,g).then(j=>{if(!j)return;const{id:N,url:R}=j;G("#"+R)})},[L,v]),a.unfurledLinks[g])return null;if(L&&(v||b==="photo"&&o)){const j=new URL(g).hostname.replace(/^www\./,"");let N;if(!v){const ye=Za(o,44,44),ee=document.createElement("canvas");ee.width=44,ee.height=44;const z=ee.getContext("2d"),te=z.createImageData(44,44);te.data.set(ye),z.putImageData(te,0,0),N=ee.toDataURL()}return e("a",{href:D||g,target:D?null:"_blank",rel:"nofollow noopener noreferrer",class:`card link ${N?"":O}`,lang:A,dir:"auto",children:[e("div",{class:"card-image",children:e("img",{src:v||N,width:m,height:u,loading:"lazy",alt:y||"",onError:R=>{try{R.target.style.display="none"}catch{}}})}),e("div",{class:"meta-container",children:[e("p",{class:"meta domain",dir:"auto",children:j}),e("p",{class:"title",dir:"auto",children:r}),e("p",{class:"meta",dir:"auto",children:s||l||p})]})]})}else{if(b==="photo")return e("a",{href:g,target:"_blank",rel:"nofollow noopener noreferrer",class:"card photo",children:e("img",{src:x,width:m,height:u,alt:r||s,loading:"lazy",style:{height:"auto",aspectRatio:`${m}/${u}`}})});if(b==="video"){if(/youtube/i.test(l)){const j=(q=g.match(/watch\?v=([^&]+)/))==null?void 0:q[1];if(j)return e("lite-youtube",{videoid:j,nocookie:!0})}return e("div",{class:"card video",style:{aspectRatio:`${m}/${u}`},dangerouslySetInnerHTML:{__html:c}})}else if(L&&!v){const j=new URL(g).hostname.replace(/^www\./,"");return e("a",{href:D||g,target:D?null:"_blank",rel:"nofollow noopener noreferrer",class:"card link no-image",lang:A,children:e("div",{class:"meta-container",children:[e("p",{class:"meta domain",children:[e(E,{icon:"link",size:"s"})," ",e("span",{children:j})]}),e("p",{class:"title",children:r}),e("p",{class:"meta",children:s||l||p})]})})}}}function ni({statusID:n,instance:t,fetchStatusHistory:a=()=>{},onClose:o}){const[r,s]=W("default"),[c,l]=W([]);return le(()=>{s("loading"),(async()=>{try{const f=await a();l(f),s("default")}catch{s("error")}})()},[]),e("div",{id:"edit-history",class:"sheet",children:[!!o&&e("button",{type:"button",class:"sheet-close",onClick:o,children:e(E,{icon:"x"})}),e("header",{children:[e("h2",{children:"Edit History"}),r==="error"&&e("p",{children:"Failed to load history"}),r==="loading"&&e("p",{children:[e(Je,{abrupt:!0})," Loading…"]})]}),e("main",{tabIndex:"-1",children:c.length>0&&e("ol",{children:c.map(f=>{const{createdAt:p}=f,d=new Date(p);return e("li",{class:"history-item",children:[e("h3",{children:e("time",{children:At(d,{formatOpts:{weekday:"short",second:"numeric"}})})}),e(Ye,{status:f,instance:t,size:"s",withinContext:!0,readOnly:!0,previewMode:!0})]},p)})})})]})}const Sn=80;function ai({statusID:n,instance:t,onClose:a}){const{masto:o}=Ne({instance:t}),[r,s]=W("default"),[c,l]=W([]),[f,p]=W(!1),d=Q(),m=Q();async function u(v){p(!1),s("loading"),(async()=>{var y,g,b,x;try{v&&(d.current=o.v1.statuses.$select(n).rebloggedBy.list({limit:Sn}),m.current=o.v1.statuses.$select(n).favouritedBy.list({limit:Sn}));const[{value:A},{value:_}]=await Promise.allSettled([d.current.next(),m.current.next()]);if((y=A.value)!=null&&y.length||(g=_.value)!=null&&g.length){if((b=A.value)!=null&&b.length)for(const L of A.value){const S=c.find(O=>O.id===L.id);S?S._types.push("reblog"):c.push({...L,_types:["reblog"]})}if((x=_.value)!=null&&x.length)for(const L of _.value){const S=c.find(O=>O.id===L.id);S?S._types.push("favourite"):c.push({...L,_types:["favourite"]})}l(c),p(!A.done||!_.done)}else p(!1);s("default")}catch{s("error")}})()}return le(()=>{u(!0)},[]),e("div",{id:"reactions-container",class:"sheet",children:[!!a&&e("button",{type:"button",class:"sheet-close",onClick:a,children:e(E,{icon:"x"})}),e("header",{children:e("h2",{children:"Boosted/Liked by…"})}),e("main",{children:c.length>0?e(H,{children:[e("ul",{class:"reactions-list",children:c.map(v=>{const{_types:y}=v;return e("li",{children:[e("div",{class:"reactions-block",children:y.map(g=>e(E,{icon:{reblog:"rocket",favourite:"heart"}[g],class:`${g}-icon`}))}),e(Zn,{account:v,instance:t})]},v.id+y)})}),r==="default"?f?e(Xa,{onChange:v=>{v&&u()},children:e("button",{type:"button",class:"plain block",onClick:()=>u(),children:"Show more…"})}):e("p",{class:"ui-state insignificant",children:"The end."}):r==="loading"&&e("p",{class:"ui-state",children:e(Je,{abrupt:!0})})]}):r==="loading"?e("p",{class:"ui-state",children:e(Je,{abrupt:!0})}):r==="error"?e("p",{class:"ui-state",children:"Unable to load accounts"}):e("p",{class:"ui-state insignificant",children:"No one yet."})})]})}function _t({checked:n,count:t,class:a,title:o,alt:r,icon:s,onClick:c,...l}){typeof o=="string"&&(o=[o,o]),typeof r=="string"&&(r=[r,r]);const[f,p]=W(o[0]||""),[d,m]=W(r[0]||"");return le(()=>{n?(p(o[1]||""),m(r[1]||"")):(p(o[0]||""),m(r[0]||""))},[n,o,r]),e("button",{type:"button",title:f,class:`plain ${a} ${n?"checked":""}`,onClick:u=>{c&&(u.preventDefault(),u.stopPropagation(),c(u))},...l,children:[e(E,{icon:s,size:"l",alt:d}),!!t&&e(H,{children:[" ",e("small",{title:t,children:Ge(t)})]})]})}function Dn(n){if(!n)return;let t=Math.floor(n/3600),a=Math.floor(n%3600/60),o=Math.round(n%60);return t===0?`${a}:${o.toString().padStart(2,"0")}`:`${t}:${a.toString().padStart(2,"0")}:${o.toString().padStart(2,"0")}`}const oi=/(twitter|github)\.com/i,Rn={};function ii(n,t){var g;const a=Qa(T);if(oi.test(t)||Rn[t])return;if(new RegExp(n+"/").test((g=a.unfurledLinks[t])==null?void 0:g.url))return Promise.resolve(a.unfurledLinks[t]);let r,s=t;/\/\/elk\.[^\/]+\/[^.]+\.[^.]+/i.test(s)&&(s=s.replace(/elk\.[^\/]+\//i,""));const c=new URL(s),l=c.hostname,f=c.pathname,d=/\/@([^@\/]+)@?([^\/]+)?\/(\d+)$/i.exec(f);if(d){const b=d[3],{masto:x}=Ne({instance:l});r=x.v1.statuses.$select(b).fetch().then(A=>{if(A!=null&&A.id)return{status:A,instance:l};throw new Error("No results")})}const{masto:m}=Ne({instance:n}),u=m.v2.search.fetch({q:t,type:"statuses",resolve:!0,limit:1}).then(b=>{if(b.statuses.length>0)return{status:b.statuses[0],instance:n};throw new Error("No results")});function v(b){const{status:x,instance:A}=b,{id:_}=x,L=`/${A}/s/${_}`,S={id:_,instance:A,url:L};return T.unfurledLinks[t]=S,Te(x,A,{skipThreading:!0}),S}function y(b){Rn[t]=!0}return r?Promise.any([r,u]).then(v).catch(y):u.then(v).catch(y)}function ri(n){if(!n)return;const t=new URL(n),{host:a,pathname:o}=t,r=o.replace(/\/$/,""),[s,c,l]=r.match(/\/(@[^\/]+)\/(.*)/)||[];return e(H,{children:[a,c?e(H,{children:["/",c,e("wbr",{}),e("span",{class:"more-insignificant",children:["/",l]})]}):e("span",{class:"more-insignificant",children:r})]})}const ia=Zo(ii);function si({status:n,filterInfo:t,instance:a,containerProps:o={}}){const{account:{avatar:r,avatarStatic:s,bot:c,group:l},createdAt:f,visibility:p,reblog:d}=n,m=!!d,u=(t==null?void 0:t.titlesStr)||"",v=new Date(f),y=Ko(n.reblog||n),[g,b]=W(!1),x=qn(()=>{b(!0)},{threshold:600,captureEvent:!0,detect:"touch",cancelOnMovement:2}),A=xt();return e("div",{class:m?l?"status-group":"status-reblog":"",...o,title:y,onContextMenu:_=>{_.preventDefault(),b(!0)},...x(),children:[e("article",{class:"status filtered",tabindex:"-1",children:[e("b",{class:"status-filtered-badge clickable badge-meta",title:u,onClick:_=>{_.preventDefault(),b(!0)},children:[e("span",{children:"Filtered"}),e("span",{children:u})]})," ",e(He,{url:s||r,squircle:c}),e("span",{class:"status-filtered-info",children:[e("span",{class:"status-filtered-info-1",children:[e(at,{account:n.account,instance:a})," ",e(E,{icon:We[p],alt:ot[p],size:"s"})," ",m?"boosted":e(Lt,{datetime:v,format:"micro"})]}),e("span",{class:"status-filtered-info-2",children:[m&&e(H,{children:[e(He,{url:d.account.avatarStatic||d.account.avatar,squircle:c})," "]}),y]})]})]}),!!g&&e(rt,{class:"light",onClick:_=>{_.target===_.currentTarget&&b(!1)},children:e("div",{id:"filtered-status-peek",class:"sheet",children:[e("button",{type:"button",class:"sheet-close",onClick:()=>b(!1),children:e(E,{icon:"x"})}),e("header",{children:[e("b",{class:"status-filtered-badge",children:"Filtered"})," ",u]}),e("main",{tabIndex:"-1",children:e(lt,{ref:A,class:"status-link",to:`/${a}/s/${n.id}`,onClick:()=>{b(!1)},"data-read-more":"Read more →",children:e(Ye,{status:n,instance:a,size:"s",readOnly:!0})})})]})})]})}const ci=Ct(({id:n,instance:t,level:a=0})=>{if(!n||!t)return;const o=ct(T),r=Be(n,t),s=o.statusQuotes[r],c=s==null?void 0:s.filter((l,f,p)=>p.findIndex(d=>d.url===l.url)===f);if(c!=null&&c.length&&!(a>2))return c.map(l=>e(lt,{to:`${l.instance?`/${l.instance}`:""}/s/${l.id}`,class:"status-card-link","data-read-more":"Read more →",children:e(Ye,{statusID:l.id,instance:l.instance,size:"s",quoted:a+1})},l.instance+l.id))}),Pn=Ct(Ye),li=on.reduce((n,t)=>{const[a,o,r]=t;return n[a]={common:o,native:r},n},{}),ra={"5 minutes":5*60,"30 minutes":30*60,"1 hour":60*60,"6 hours":6*60*60,"12 hours":12*60*60,"1 day":24*60*60,"3 days":3*24*60*60,"7 days":7*24*60*60},ui=Object.values(ra),Mn=24*60*60,On=n=>{if(!n)return Mn;const t=(new Date(n).getTime()-Date.now())/1e3;return ui.find(a=>a>=t)||Mn},ze=document.createElement("ul");ze.role="listbox";ze.className="text-expander-menu";const di=16,mi=new IntersectionObserver(n=>{n.forEach(t=>{if(t.isIntersecting){const{left:a,width:o}=t.boundingClientRect,{innerWidth:r}=window;a+o>r&&(ze.style.left=r-o-di+"px")}})});mi.observe(ze);const Pe=Tt([new Intl.DateTimeFormat().resolvedOptions().locale,...navigator.languages],on.map(n=>n[0]),"en"),hi=new RegExp(An.source,An.flags),pi=/(^|[^\/\w])@(([a-z0-9_]+)@[a-z0-9\.\-]+[a-z0-9]+)/gi,fi="$2xxxxxxxxxxxxxxxxxxxxxxx";function gi(n){return n.replace(hi,fi).replace(pi,"$1@$3")}function $i({onClose:n,replyToStatus:t,editStatus:a,draftStatus:o,standalone:r,hasOpener:s}){var $t;const{masto:c,instance:l}=Ne(),[f,p]=W("default"),d=Q((o==null?void 0:o.uid)||eo()),m=Ft(),u=m.info,v=co(),{statuses:{maxCharacters:y,maxMediaAttachments:g,charactersReservedPerUrl:b}={},mediaAttachments:{supportedMimeTypes:x=[],imageSizeLimit:A,imageMatrixLimit:_,videoSizeLimit:L,videoMatrixLimit:S,videoFrameRateLimit:O}={},polls:{maxOptions:D,maxCharactersPerOption:G,maxExpiration:q,minExpiration:j}={}}=v||{},N=Q(),R=Q(),[oe,ye]=W("public"),[ee,z]=W(!1),[te,ne]=W(M.session.get("currentLanguage")||Pe),_e=Q(te),[V,ke]=W([]),[se,ue]=W(null),de=M.account.get("preferences")||{},Ae=()=>{N.current&&N.current.dispatchEvent(new Event("input"))},Z=()=>{setTimeout(()=>{var k;(k=N.current)==null||k.focus()},300)};le(()=>{if(t){const{spoilerText:k,visibility:C,language:F,sensitive:I}=t;k&&R.current&&(R.current.value=k);const U=[...new Set([t.account.acct,...t.mentions.map(B=>B.acct)])].filter(B=>B!==u.acct);U.length>0&&(N.current.value=`${U.map(B=>`@${B}`).join(" ")} `,Ae()),Z(),ye(C==="public"&&de["posting:default:visibility"]?de["posting:default:visibility"]:C),ne(F||de.postingDefaultLanguage||Pe),z(I&&!!k)}else if(a){const{visibility:k,language:C,sensitive:F,poll:I,mediaAttachments:Y}=a,U=!!(I!=null&&I.options)&&{...I,options:I.options.map(B=>(B==null?void 0:B.title)||B),expiresIn:(I==null?void 0:I.expiresIn)||On(I.expiresAt)};p("loading"),(async()=>{try{const B=await c.v1.statuses.$select(a.id).source.fetch(),{text:K,spoilerText:ae}=B;N.current.value=K,N.current.dataset.source=K,Ae(),Z(),R.current.value=ae,ye(k),ne(C||presf.postingDefaultLanguage||Pe),z(F),ue(U),ke(Y),p("default")}catch(B){alert((B==null?void 0:B.reason)||B),p("error")}})()}else Z(),de["posting:default:visibility"]&&ye(de["posting:default:visibility"]),de["posting:default:language"]&&ne(de["posting:default:language"]),de["posting:default:sensitive"]&&z(de["posting:default:sensitive"]);if(o){const{status:k,spoilerText:C,visibility:F,language:I,sensitive:Y,poll:U,mediaAttachments:B}=o,K=!!(U!=null&&U.options)&&{...U,options:U.options.map(ae=>(ae==null?void 0:ae.title)||ae),expiresIn:(U==null?void 0:U.expiresIn)||On(U.expiresAt)};N.current.value=k,Ae(),Z(),C&&(R.current.value=C),F&&ye(F),ne(I||de.postingDefaultLanguage||Pe),Y!==null&&z(Y),K&&ue(K),B&&ke(B)}},[o,a,t]);const ce=Q(),P="You have unsaved changes. Discard this post?",J=()=>{const{value:k,dataset:C}=N.current;if(f==="loading")return!1;const F=V.length>0;if(!k&&!F||V.length>0&&V.every(K=>K.id))return!0;const Y=(t==null?void 0:t.account.id)===u.id,U=t&&k.trim()===`@${t.account.acct}`;return!!(!Y&&U||k===(C==null?void 0:C.source))},ge=()=>J()?!0:confirm(P);le(()=>{const k=C=>{J()||(C.preventDefault(),C.returnValue=P)};return window.addEventListener("beforeunload",k,{capture:!0}),()=>window.removeEventListener("beforeunload",k,{capture:!0})},[]);const ie=()=>{const{value:k}=N.current,{value:C}=R.current;return kn(gi(k))+kn(C)},we=()=>{const k=ie();T.composerCharacterCount=k};le(we,[]);const Ce=Q(!1);Ue("esc",()=>{Ce.current=!0},{enableOnFormTags:!0}),Ue("esc",()=>{!r&&Ce.current&&ge()&&n(),Ce.current=!1},{enableOnFormTags:!0,keyup:!0,ignoreEventWhen:k=>{const C=document.querySelectorAll("#modal-container > *"),F=!!C,I=C.length===1&&C[0].querySelector("#compose-container");return F&&!I}});const ve=Q({}),he=()=>`${kt()}#${d.current}`,Le=()=>{if(a)return;const k=he(),C={key:k,replyTo:t?{id:t.id,account:{id:t.account.id,username:t.account.username,acct:t.account.acct}}:null,draftStatus:{uid:d.current,status:N.current.value,spoilerText:R.current.value,visibility:oe,language:te,sensitive:ee,poll:se,mediaAttachments:V}};!to(C,ve.current)&&!J()&&(Cn.drafts.set(k,{...C,state:"unsaved",updatedAt:Date.now()}).then(()=>{}).catch(F=>{}),ve.current=structuredClone(C))};mo(Le,5e3),le(()=>(Le(),()=>{Cn.drafts.del(he())}),[]),le(()=>{const k=F=>{const{items:I}=F.clipboardData||F.dataTransfer,Y=[];for(let U=0;U<I.length;U++){const B=I[U];if(B.kind==="file"){const K=B.getAsFile();K&&x.includes(K.type)&&Y.push(K)}}if(Y.length>0&&V.length>=g){alert(`You can only attach up to ${g} files.`);return}if(Y.length>0){F.preventDefault(),F.stopPropagation();const U=g-V.length,B=Y.slice(0,U);if(B.length<=0){alert(`You can only attach up to ${g} files.`);return}const K=B.map(ae=>({file:ae,type:ae.type,size:ae.size,url:URL.createObjectURL(ae),id:null,description:null}));ke([...V,...K])}};window.addEventListener("paste",k);const C=F=>{F.dataTransfer.items.length>0&&(F.preventDefault(),F.stopPropagation())};return window.addEventListener("dragover",C),window.addEventListener("drop",k),()=>{window.removeEventListener("paste",k),window.removeEventListener("dragover",C),window.removeEventListener("drop",k)}},[V]);const[pe,Se]=W(!1);return e("div",{id:"compose-container-outer",children:[e("div",{id:"compose-container",class:r?"standalone":"",children:[e("div",{class:"compose-top",children:[(u==null?void 0:u.avatarStatic)&&e(Zn,{account:u,accountInstance:m.instanceURL,hideDisplayName:!0}),r?s&&e("button",{type:"button",class:"light pop-button",disabled:f==="loading",onClick:()=>{if(!window.opener){alert("Looks like you closed the parent window.");return}window.opener.__STATES__.showCompose&&!confirm("Looks like you already have a compose field open in the parent window. Popping in this window will discard the changes you made in the parent window. Continue?")||n({fn:()=>{const k={editStatus:a,replyToStatus:t,draftStatus:{uid:d.current,status:N.current.value,spoilerText:R.current.value,visibility:oe,language:te,sensitive:ee,poll:se,mediaAttachments:V}};window.opener.__COMPOSE__=k,window.opener.__STATES__.showCompose=!0}})},children:e(E,{icon:"popin",alt:"Pop in"})}):e("span",{children:[e("button",{type:"button",class:"light pop-button",disabled:f==="loading",onClick:()=>{if(!ho({editStatus:a,replyToStatus:t,draftStatus:{uid:d.current,status:N.current.value,spoilerText:R.current.value,visibility:oe,language:te,sensitive:ee,poll:se,mediaAttachments:V}})){alert("Looks like your browser is blocking popups.");return}n()},children:e(E,{icon:"popout",alt:"Pop out"})})," ",e("button",{type:"button",class:"light close-button",disabled:f==="loading",onClick:()=>{ge()&&n()},children:e(E,{icon:"x"})})]})]}),!!t&&e("div",{class:"status-preview",children:[e(Pn,{status:t,size:"s",previewMode:!0}),e("div",{class:"status-preview-legend reply-to",children:["Replying to @",t.account.acct||t.account.username,"’s post"]})]}),!!a&&e("div",{class:"status-preview",children:[e(Pn,{status:a,size:"s",previewMode:!0}),e("div",{class:"status-preview-legend",children:"Editing source post"})]}),e("form",{ref:ce,class:`form-visibility-${oe}`,style:{pointerEvents:f==="loading"?"none":"auto",opacity:f==="loading"?.5:1},onKeyDown:k=>{k.key==="Enter"&&(k.ctrlKey||k.metaKey)&&ce.current.dispatchEvent(new Event("submit",{cancelable:!0}))},onSubmit:k=>{k.preventDefault();const C=new FormData(k.target),F=Object.fromEntries(C.entries());let{status:I,visibility:Y,sensitive:U,spoilerText:B}=F;if(U=U==="on",se){if(se.options.length<2){alert("Poll must have at least 2 options");return}if(se.options.some(K=>K==="")){alert("Some poll choices are empty");return}}V.length>0&&V.some(ae=>{var fe,De;return!((De=(fe=ae.description)==null?void 0:fe.trim)!=null&&De.call(fe))})&&!confirm("Some media have no descriptions. Continue?")||(B=U&&B||void 0,I=I===""?void 0:I,p("loading"),(async()=>{try{if(V.length>0){const fe=V.map(be=>{const{file:je,description:ut,id:Xe}=be;if(Xe)return be;{const Ie=Nn({file:je,description:ut});return c.v2.media.create(Ie).then(re=>(re.id&&(be.id=re.id),re))}}),De=await Promise.allSettled(fe);if(De.some(be=>{var je;return be.status==="rejected"||!((je=be.value)!=null&&je.id)})){p("error"),De.forEach(be=>{be.status==="rejected"&&alert(be.reason||`Attachment #${i} failed`)});return}}let K={status:I,spoiler_text:B,language:te,sensitive:U,poll:se,media_ids:V.map(fe=>fe.id)};a&&Xn("@mastodon/edit-media-attributes")?K.media_attributes=V.map(fe=>({id:fe.id,description:fe.description})):a||(K.visibility=Y,K.in_reply_to_id=(t==null?void 0:t.id)||void 0),K=Nn(K);let ae;if(a)ae=await c.v1.statuses.$select(a.id).update(K),Te(ae,l,{skipThreading:!0});else try{ae=await c.v1.statuses.create(K,{idempotencyKey:d.current})}catch{ae=await c.v1.statuses.create(K)}p("default"),n({type:a?"edit":t?"reply":"post",newStatus:ae,instance:l})}catch(K){alert((K==null?void 0:K.reason)||K),p("error")}})())},children:[e("div",{class:"toolbar stretch",children:[e("input",{ref:R,type:"text",name:"spoilerText",placeholder:"Content warning",disabled:f==="loading",class:"spoiler-text-field",lang:te,spellCheck:"true",dir:"auto",style:{opacity:ee?1:0,pointerEvents:ee?"auto":"none"},onInput:()=>{we()}}),e("label",{class:`toolbar-button ${ee?"highlight":""}`,title:"Content warning or sensitive media",children:[e("input",{name:"sensitive",type:"checkbox",checked:ee,disabled:f==="loading",onChange:k=>{var F,I;const C=k.target.checked;z(C),C?(F=R.current)==null||F.focus():(I=N.current)==null||I.focus()}}),e(E,{icon:`eye-${ee?"close":"open"}`})]})," ",e("label",{class:`toolbar-button ${oe!=="public"&&!ee?"show-field":""} ${oe!=="public"?"highlight":""}`,title:`Visibility: ${oe}`,children:[e(E,{icon:We[oe],alt:oe}),e("select",{name:"visibility",value:oe,onChange:k=>{ye(k.target.value)},disabled:f==="loading"||!!a,children:[e("option",{value:"public",children:["Public ",e(E,{icon:"earth"})]}),e("option",{value:"unlisted",children:"Unlisted"}),e("option",{value:"private",children:"Followers only"}),e("option",{value:"direct",children:"Private mention"})]})]})," "]}),e(vi,{ref:N,placeholder:t?"Post your reply":a?"Edit your post":"What are you doing?",required:(V==null?void 0:V.length)===0,disabled:f==="loading",lang:te,onInput:()=>{we()},maxCharacters:y,performSearch:k=>{const{type:C,q:F,limit:I}=k;return C==="accounts"?c.v1.accounts.search.list({q:F,limit:I,resolve:!1}):c.v2.search.fetch(k)}}),(V==null?void 0:V.length)>0&&e("div",{class:"media-attachments",children:[V.map((k,C)=>{const{id:F,file:I}=k,Y=(I==null?void 0:I.size)+(I==null?void 0:I.type)+(I==null?void 0:I.name);return e(yi,{attachment:k,disabled:f==="loading",lang:te,onDescriptionChange:U=>{ke(B=>{const K=[...B];return K[C].description=U,K})},onRemove:()=>{ke(U=>U.filter((B,K)=>K!==C))}},F||Y||C)}),e("label",{class:"media-sensitive",children:[e("input",{name:"sensitive",type:"checkbox",checked:ee,disabled:f==="loading",onChange:k=>{const C=k.target.checked;z(C)}})," ",e("span",{children:"Mark media as sensitive"})," ",e(E,{icon:`eye-${ee?"close":"open"}`})]})]}),!!se&&e(_i,{lang:te,maxOptions:D,maxExpiration:q,minExpiration:j,maxCharactersPerOption:G,poll:se,disabled:f==="loading",onInput:k=>{if(k){const C={...k};ue(C)}else ue(null)}}),e("div",{class:"toolbar wrap",style:{justifyContent:"flex-end"},children:[e("span",{children:[e("label",{class:"toolbar-button",children:[e("input",{type:"file",accept:x.join(","),multiple:V.length<g-1,disabled:f==="loading"||V.length>=g||!!se,onChange:k=>{const C=k.target.files;if(!C)return;const F=Array.from(C).map(I=>({file:I,type:I.type,size:I.size,url:URL.createObjectURL(I),id:null,description:null}));V.length+F.length>g?alert(`You can only attach up to ${g} files.`):ke(I=>I.concat(F)),k.target.value=""}}),e(E,{icon:"attachment"})]})," ",e("button",{type:"button",class:"toolbar-button",disabled:f==="loading"||!!se||!!V.length,onClick:()=>{ue({options:["",""],expiresIn:24*60*60,multiple:!1})},children:e(E,{icon:"poll",alt:"Add poll"})})," ",e("button",{type:"button",class:"toolbar-button",disabled:f==="loading",onClick:()=>{Se(!0)},children:e(E,{icon:"emoji2"})})]}),e("div",{class:"spacer"}),f==="loading"?e(Je,{abrupt:!0}):e(bi,{maxCharacters:y,hidden:f==="loading"}),e("label",{class:`toolbar-button ${te!==_e.current?"highlight":""}`,children:[e("span",{class:"icon-text",children:($t=li[te])==null?void 0:$t.native}),e("select",{name:"language",value:te,onChange:k=>{const{value:C}=k.target;ne(C||Pe),M.session.set("currentLanguage",C||Pe)},disabled:f==="loading",children:on.sort(([k,C],[F,I])=>{const{contentTranslationHideLanguages:Y=[]}=T.settings;return k===te||k===_e||k===Pe||Y!=null&&Y.includes(k)?-1:F===te||F===_e||F===Pe||Y!=null&&Y.includes(F)?1:C.localeCompare(I)}).map(([k,C,F])=>e("option",{value:k,children:[C," (",F,")"]}))})]})," ",e("button",{type:"submit",class:"large",disabled:f==="loading",children:t?"Reply":a?"Update":"Post"})]})]})]}),pe&&e(rt,{class:"light",onClick:k=>{k.target===k.currentTarget&&Se(!1)},children:e(wi,{masto:c,instance:l,onClose:()=>{Se(!1)},onSelect:k=>{const C=` ${k} `,F=N.current;if(!F)return;const{selectionStart:I,selectionEnd:Y}=F,U=F.value,B=U.slice(0,I)+C+U.slice(Y);F.value=B,F.selectionStart=F.selectionEnd=Y+C.length,F.focus(),F.dispatchEvent(new Event("input"))}})})]})}function zn(n){if(!n)return;const{value:t,offsetHeight:a,scrollHeight:o,clientHeight:r}=n;if(a<window.innerHeight){const s=a-r;n.style.height=t?o+s+"px":null}}const vi=Vn((n,t)=>{var u;const{masto:a}=Ne(),[o,r]=W(((u=t.current)==null?void 0:u.value)||""),{maxCharacters:s,performSearch:c=()=>{},...l}=n,f=ct(T),p=Q();le(()=>{(async()=>{try{const v=await a.v1.customEmojis.list();p.current=v}catch{}})()},[]);const d=Q(),m=Q("");return le(()=>{let v,y,g;return d.current&&(v=b=>{const{key:x,provide:A,text:_}=b.detail;if(m.current=_,_===""){A(Promise.resolve({matched:!1}));return}if(x===":"){const S=ki(p.current,_);let O="";S.forEach(D=>{const{shortcode:G,url:q}=D;O+=`
                <li role="option" data-value="${Me(G)}">
                <img src="${Me(q)}" width="16" height="16" alt="" loading="lazy" /> 
                :${Me(G)}:
              </li>`}),ze.innerHTML=O,A(Promise.resolve({matched:S.length>0,fragment:ze}));return}const L={"@":"accounts","#":"hashtags"}[x];A(new Promise(S=>{c({type:L,q:_,limit:5}).then(D=>{if(_!==m.current)return;const G=D[L]||D;let q="";G.forEach(j=>{const{name:N,avatarStatic:R,displayName:oe,username:ye,acct:ee,emojis:z}=j,te=an(oe,z);ee?q+=`
                    <li role="option" data-value="${Me(ee)}">
                      <span class="avatar">
                        <img src="${Me(R)}" width="16" height="16" alt="" loading="lazy" />
                      </span>
                      <span>
                        <b>${te||ye}</b>
                        <br>@${Me(ee)}
                      </span>
                    </li>
                  `:q+=`
                    <li role="option" data-value="${Me(N)}">
                      <span>#<b>${Me(N)}</b></span>
                    </li>
                  `,ze.innerHTML=q}),S({matched:G.length>0,fragment:ze})})}))},d.current.addEventListener("text-expander-change",v),y=b=>{const{key:x,item:A}=b.detail;x===":"?b.detail.value=`:${A.dataset.value}:`:b.detail.value=`${x}${A.dataset.value}`},d.current.addEventListener("text-expander-value",y),g=b=>{const{input:x}=b.detail;r(x.value)},d.current.addEventListener("text-expander-committed",g)),()=>{d.current&&(d.current.removeEventListener("text-expander-change",v),d.current.removeEventListener("text-expander-value",y),d.current.removeEventListener("text-expander-committed",g))}},[]),e("text-expander",{ref:d,keys:"@ # :",children:e("textarea",{autoCapitalize:"sentences",autoComplete:"on",autoCorrect:"on",spellCheck:"true",dir:"auto",rows:"6",cols:"50",...l,ref:t,name:"status",value:o,onKeyDown:v=>{const{key:y,target:g}=v;if(y==="Enter")try{const{value:b,selectionStart:x}=g,_=b.slice(0,x).split(`
`).slice(-1)[0];if(_&&/^\s*(-|\d+\.)\s/.test(_)){const[L,S,O,D,G]=_.match(/^(\s*)(-|\d+\.)(\s+)(.+)?/)||[];if(G){v.preventDefault();const[q]=O.match(/\d+/)||[],j=q?`${+q+1}.`:"-",N=`
${S}${j}${D}`;g.setRangeText(N,x,x);const R=x+N.length;g.setSelectionRange(R,R)}else{const q=x-_.length;g.setRangeText("",q,x)}zn(g)}}catch{}},onInput:v=>{var g;const{target:y}=v;r(y.value),zn(y),(g=n.onInput)==null||g.call(n,v)},style:{width:"100%",height:"4em"}})})});function bi({maxCharacters:n=500,hidden:t}){const o=ct(T).composerCharacterCount,r=n-o;return t?e("meter",{class:"donut",hidden:!0}):e("meter",{class:`donut ${r<=-10?"explode":r<=0?"danger":r<=20?"warning":""}`,value:o,max:n,"data-left":r,title:`${r}/${n}`,style:{"--percentage":o/n*100}})}function yi({attachment:n,disabled:t,lang:a,onDescriptionChange:o=()=>{},onRemove:r=()=>{}}){const s=Xn("@mastodon/edit-media-attributes"),{type:c,id:l,file:f}=n,p=Re(()=>f?URL.createObjectURL(f):n.url,[f,n.url]),[d,m]=W(n.description),u=c.split("/")[0],v=no(o,250),[y,g]=W(!1),b=Q(null);le(()=>{let A;return y&&b.current&&(A=setTimeout(()=>{b.current.focus()},100)),()=>{clearTimeout(A)}},[y]);const x=e(H,{children:l&&!s?e("div",{class:"media-desc",children:[e("span",{class:"tag",children:"Uploaded"}),e("p",{title:d,children:n.description||e("i",{children:"No description"})})]}):e("textarea",{ref:b,value:d||"",lang:a,placeholder:{image:"Image description",video:"Video description",audio:"Audio description"}[u],autoCapitalize:"sentences",autoComplete:"on",autoCorrect:"on",spellCheck:"true",dir:"auto",disabled:t,maxlength:"1500",onInput:A=>{const{value:_}=A.target;m(_),v(_)}})});return e(H,{children:[e("div",{class:"media-attachment",children:[e("div",{class:"media-preview",tabIndex:"0",onClick:()=>{g(!0)},children:u==="image"?e("img",{src:p,alt:""}):u==="video"||u==="gifv"?e("video",{src:p,playsinline:!0,muted:!0}):u==="audio"?e("audio",{src:p,controls:!0}):null}),x,e("div",{class:"media-aside",children:e("button",{type:"button",class:"plain close-button",disabled:t,onClick:r,children:e(E,{icon:"x"})})})]}),y&&e(rt,{class:"light",onClick:A=>{A.target===A.currentTarget&&g(!1)},children:e("div",{id:"media-sheet",class:"sheet sheet-max",children:[e("button",{type:"button",class:"sheet-close",onClick:()=>{g(!1)},children:e(E,{icon:"x"})}),e("header",{children:e("h2",{children:{image:"Edit image description",video:"Edit video description",audio:"Edit audio description"}[u]})}),e("main",{tabIndex:"-1",children:[e("div",{class:"media-preview",children:u==="image"?e("img",{src:p,alt:""}):u==="video"||u==="gifv"?e("video",{src:p,playsinline:!0,controls:!0}):u==="audio"?e("audio",{src:p,controls:!0}):null}),e("div",{class:"media-form",children:[x,e("footer",{children:e("button",{type:"button",class:"light block",onClick:()=>{g(!1)},children:"Done"})})]})]})]})})]})}function _i({lang:n,poll:t,disabled:a,onInput:o=()=>{},maxOptions:r,maxExpiration:s,minExpiration:c,maxCharactersPerOption:l}){const{options:f,expiresIn:p,multiple:d}=t;return e("div",{class:`poll ${d?"multiple":""}`,children:[e("div",{class:"poll-choices",children:f.map((m,u)=>e("div",{class:"poll-choice",children:[e("input",{required:!0,type:"text",value:m,disabled:a,maxlength:l,placeholder:`Choice ${u+1}`,lang:n,spellCheck:"true",dir:"auto",onInput:v=>{const{value:y}=v.target;f[u]=y,o(t)}}),e("button",{type:"button",class:"plain2 poll-button",disabled:a||f.length<=1,onClick:()=>{f.splice(u,1),o(t)},children:e(E,{icon:"x",size:"s"})})]},u))}),e("div",{class:"poll-toolbar",children:[e("button",{type:"button",class:"plain2 poll-button",disabled:a||f.length>=r,onClick:()=>{f.push(""),o(t)},children:"+"})," ",e("label",{class:"multiple-choices",children:[e("input",{type:"checkbox",checked:d,disabled:a,onChange:m=>{const{checked:u}=m.target;t.multiple=u,o(t)}})," ","Multiple choices"]}),e("label",{class:"expires-in",children:["Duration"," ",e("select",{value:p,disabled:a,onChange:m=>{const{value:u}=m.target;t.expiresIn=u,o(t)},children:Object.entries(ra).filter(([m,u])=>u>=c&&u<=s).map(([m,u])=>e("option",{value:u,children:m},u))})]})]}),e("div",{class:"poll-toolbar",children:e("button",{type:"button",class:"plain remove-poll-button",disabled:a,onClick:()=>{o(null)},children:"Remove poll"})})]})}function ki(n,t){return t=t.toLowerCase(),n.sort((a,o)=>{let r=a.shortcode.toLowerCase(),s=o.shortcode.toLowerCase(),c=r.startsWith(t),l=s.startsWith(t),f=r.includes(t),p=s.includes(t);return c&&l?a.length-o.length:c?-1:l?1:f&&p?a.length-o.length:f?-1:p?1:0}).slice(0,5)}function Me(n){return n.replace(/[&<>"']/g,function(t){return"&#"+t.charCodeAt(0)+";"})}function Nn(n){for(let t in n)(n[t]===null||n[t]===void 0)&&delete n[t];return n}function wi({masto:n,instance:t,onClose:a=()=>{},onSelect:o=()=>{}}){const[r,s]=W("default"),c=Q([]),[l,f]=W({}),p=Re(()=>M.account.get("recentlyUsedCustomEmojis")||[]);return le(()=>{s("loading"),(async()=>{try{const d=await n.v1.customEmojis.list(),m={"--recent--":p.filter(v=>d.find(y=>y.shortcode===v.shortcode))},u=[];d.forEach(v=>{var y,g;if(v.visibleInPicker){if((g=(y=c.current)==null?void 0:y.push)==null||g.call(y,v),!v.category){u.push(v);return}m[v.category]||(m[v.category]=[]),m[v.category].push(v)}}),u.length&&(m["--others--"]=u),f(m),s("default")}catch{s("error")}})()},[]),e("div",{id:"custom-emojis-sheet",class:"sheet",children:[!!a&&e("button",{type:"button",class:"sheet-close",onClick:a,children:e(E,{icon:"x"})}),e("header",{children:[e("b",{children:"Custom emojis"})," ",r==="loading"?e(Je,{}):e("small",{class:"insignificant",children:[" • ",t]})]}),e("main",{children:e("div",{class:"custom-emojis-list",children:[r==="error"&&e("div",{class:"ui-state",children:e("p",{children:"Error loading custom emojis"})}),r==="default"&&Object.entries(l).map(([d,m])=>!!(m!=null&&m.length)&&e(H,{children:[e("div",{class:"section-header",children:{"--recent--":"Recently used","--others--":"Others"}[d]||d}),e("section",{children:m.map(u=>e("button",{type:"button",class:"plain4",onClick:()=>{a(),requestAnimationFrame(()=>{o(`:${u.shortcode}:`)});let v=M.account.get("recentlyUsedCustomEmojis")||[];const y=v.findIndex(g=>g.shortcode===u.shortcode);y!==-1?(v.splice(y,1),v.unshift(u)):(v.unshift(u),v=v.filter(g=>{var b,x;return(x=(b=c.current)==null?void 0:b.find)==null?void 0:x.call(b,A=>A.shortcode===g.shortcode)}),v=v.slice(0,10)),M.account.set("recentlyUsedCustomEmojis",v)},title:`:${u.shortcode}:`,children:e("picture",{children:[!!u.staticUrl&&e("source",{srcset:u.staticUrl,media:"(prefers-reduced-motion: reduce)"}),e("img",{class:"shortcode-emoji",src:u.url||u.staticUrl,alt:u.shortcode,width:"16",height:"16",loading:"lazy",decoding:"async"})]})},u))})]}))]})})]})}const{VITE_CLIENT_NAME:Bn}={VITE_CLIENT_NAME:"IMSB.APP",VITE_CLIENT_ID:"app.imsb.app",VITE_WEBSITE:"https://app.imsb.app",VITE_APP_ENV:"production",BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0,SSR:!1};function Si(n,t){function a(){const{currentLocation:o}=T,r=Array.isArray(t);let s=r?t:[];!r&&/:?\w+\?/.test(t)&&(s.push(t.replace(/(:\w+)\?/g,"$1")),s.push(t.replace(/\/?:\w+\?/g,"")));let c=!1;s.length?c=s.some(l=>wn(l,o)):t&&(c=wn(t,o)),c&&(document.title=n?`${n} / ${Bn}`:Bn)}Qt(()=>{const o=jn(T,"currentLocation",a);return a(),o},[n,t])}export{w as $,He as A,$n as B,$i as C,xt as D,st as E,io as F,Ho as G,Ko as H,E as I,Be as J,Si as K,lt as L,rt as M,at as N,Jn as O,Gn as P,En as Q,Lt as R,Pn as S,Oo as T,In as U,fo as V,Ke as W,Ai as X,Ci as Y,Ii as Z,Fi as _,Ne as a,Te as b,M as c,qt as d,Yn as e,xe as f,Ft as g,Xn as h,Zn as i,Fo as j,tn as k,Wt as l,Ge as m,At as n,ho as o,It as p,Ti as q,Je as r,T as s,ko as t,mo as u,nn as v,Cn as w,kt as x,Tt as y,Jo as z};
//# sourceMappingURL=useTitle-6fc876ed.js.map
